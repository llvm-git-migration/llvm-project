// NOTE: Assertions have been autogenerated by utils/update_cc_test_checks.py UTC_ARGS: --version 2

// RUN: %clang_cc1 -triple powerpc-unknown-linux-gnu \
// RUN:   -emit-llvm %s -o - | FileCheck %s --check-prefix=CHECK-DEF
// RUN: %clang_cc1 -triple powerpc-unknown-linux-gnu -fcomplex-ppc-gnu-abi \
// RUN:   -emit-llvm %s -o - | FileCheck %s --check-prefix=CHECK-GNU

// CHECK-DEF-LABEL: define dso_local void @foo1
// CHECK-DEF-SAME: (ptr dead_on_unwind noalias writable sret({ float, float }) align 4 [[AGG_RESULT:%.*]], ptr noundef byval({ float, float }) align 4 [[X:%.*]]) #[[ATTR0:[0-9]+]] {
// CHECK-DEF-NEXT:  entry:
// CHECK-DEF-NEXT:    [[X_REALP:%.*]] = getelementptr inbounds { float, float }, ptr [[X]], i32 0, i32 0
// CHECK-DEF-NEXT:    [[X_REAL:%.*]] = load float, ptr [[X_REALP]], align 4
// CHECK-DEF-NEXT:    [[X_IMAGP:%.*]] = getelementptr inbounds { float, float }, ptr [[X]], i32 0, i32 1
// CHECK-DEF-NEXT:    [[X_IMAG:%.*]] = load float, ptr [[X_IMAGP]], align 4
// CHECK-DEF-NEXT:    [[AGG_RESULT_REALP:%.*]] = getelementptr inbounds { float, float }, ptr [[AGG_RESULT]], i32 0, i32 0
// CHECK-DEF-NEXT:    [[AGG_RESULT_IMAGP:%.*]] = getelementptr inbounds { float, float }, ptr [[AGG_RESULT]], i32 0, i32 1
// CHECK-DEF-NEXT:    store float [[X_REAL]], ptr [[AGG_RESULT_REALP]], align 4
// CHECK-DEF-NEXT:    store float [[X_IMAG]], ptr [[AGG_RESULT_IMAGP]], align 4
// CHECK-DEF-NEXT:    [[AGG_RESULT_REALP1:%.*]] = getelementptr inbounds { float, float }, ptr [[AGG_RESULT]], i32 0, i32 0
// CHECK-DEF-NEXT:    [[AGG_RESULT_REAL:%.*]] = load float, ptr [[AGG_RESULT_REALP1]], align 4
// CHECK-DEF-NEXT:    [[AGG_RESULT_IMAGP2:%.*]] = getelementptr inbounds { float, float }, ptr [[AGG_RESULT]], i32 0, i32 1
// CHECK-DEF-NEXT:    [[AGG_RESULT_IMAG:%.*]] = load float, ptr [[AGG_RESULT_IMAGP2]], align 4
// CHECK-DEF-NEXT:    [[AGG_RESULT_REALP3:%.*]] = getelementptr inbounds { float, float }, ptr [[AGG_RESULT]], i32 0, i32 0
// CHECK-DEF-NEXT:    [[AGG_RESULT_IMAGP4:%.*]] = getelementptr inbounds { float, float }, ptr [[AGG_RESULT]], i32 0, i32 1
// CHECK-DEF-NEXT:    store float [[AGG_RESULT_REAL]], ptr [[AGG_RESULT_REALP3]], align 4
// CHECK-DEF-NEXT:    store float [[AGG_RESULT_IMAG]], ptr [[AGG_RESULT_IMAGP4]], align 4
// CHECK-DEF-NEXT:    ret void
//
// CHECK-GNU-LABEL: define dso_local [1 x i64] @foo1
// CHECK-GNU-SAME: ([1 x i64] noundef [[X_COERCE:%.*]]) #[[ATTR0:[0-9]+]] {
// CHECK-GNU-NEXT:  entry:
// CHECK-GNU-NEXT:    [[RETVAL:%.*]] = alloca { float, float }, align 4
// CHECK-GNU-NEXT:    [[X:%.*]] = alloca { float, float }, align 4
// CHECK-GNU-NEXT:    store [1 x i64] [[X_COERCE]], ptr [[X]], align 4
// CHECK-GNU-NEXT:    [[X_REALP:%.*]] = getelementptr inbounds { float, float }, ptr [[X]], i32 0, i32 0
// CHECK-GNU-NEXT:    [[X_REAL:%.*]] = load float, ptr [[X_REALP]], align 4
// CHECK-GNU-NEXT:    [[X_IMAGP:%.*]] = getelementptr inbounds { float, float }, ptr [[X]], i32 0, i32 1
// CHECK-GNU-NEXT:    [[X_IMAG:%.*]] = load float, ptr [[X_IMAGP]], align 4
// CHECK-GNU-NEXT:    [[RETVAL_REALP:%.*]] = getelementptr inbounds { float, float }, ptr [[RETVAL]], i32 0, i32 0
// CHECK-GNU-NEXT:    [[RETVAL_IMAGP:%.*]] = getelementptr inbounds { float, float }, ptr [[RETVAL]], i32 0, i32 1
// CHECK-GNU-NEXT:    store float [[X_REAL]], ptr [[RETVAL_REALP]], align 4
// CHECK-GNU-NEXT:    store float [[X_IMAG]], ptr [[RETVAL_IMAGP]], align 4
// CHECK-GNU-NEXT:    [[TMP0:%.*]] = load [1 x i64], ptr [[RETVAL]], align 4
// CHECK-GNU-NEXT:    ret [1 x i64] [[TMP0]]
//
_Complex float foo1(_Complex float x) {
  return x;
}

// CHECK-DEF-LABEL: define dso_local void @foo2
// CHECK-DEF-SAME: (ptr dead_on_unwind noalias writable sret({ double, double }) align 8 [[AGG_RESULT:%.*]], ptr noundef byval({ double, double }) align 8 [[X:%.*]]) #[[ATTR0]] {
// CHECK-DEF-NEXT:  entry:
// CHECK-DEF-NEXT:    [[X_REALP:%.*]] = getelementptr inbounds { double, double }, ptr [[X]], i32 0, i32 0
// CHECK-DEF-NEXT:    [[X_REAL:%.*]] = load double, ptr [[X_REALP]], align 8
// CHECK-DEF-NEXT:    [[X_IMAGP:%.*]] = getelementptr inbounds { double, double }, ptr [[X]], i32 0, i32 1
// CHECK-DEF-NEXT:    [[X_IMAG:%.*]] = load double, ptr [[X_IMAGP]], align 8
// CHECK-DEF-NEXT:    [[AGG_RESULT_REALP:%.*]] = getelementptr inbounds { double, double }, ptr [[AGG_RESULT]], i32 0, i32 0
// CHECK-DEF-NEXT:    [[AGG_RESULT_IMAGP:%.*]] = getelementptr inbounds { double, double }, ptr [[AGG_RESULT]], i32 0, i32 1
// CHECK-DEF-NEXT:    store double [[X_REAL]], ptr [[AGG_RESULT_REALP]], align 8
// CHECK-DEF-NEXT:    store double [[X_IMAG]], ptr [[AGG_RESULT_IMAGP]], align 8
// CHECK-DEF-NEXT:    [[AGG_RESULT_REALP1:%.*]] = getelementptr inbounds { double, double }, ptr [[AGG_RESULT]], i32 0, i32 0
// CHECK-DEF-NEXT:    [[AGG_RESULT_REAL:%.*]] = load double, ptr [[AGG_RESULT_REALP1]], align 8
// CHECK-DEF-NEXT:    [[AGG_RESULT_IMAGP2:%.*]] = getelementptr inbounds { double, double }, ptr [[AGG_RESULT]], i32 0, i32 1
// CHECK-DEF-NEXT:    [[AGG_RESULT_IMAG:%.*]] = load double, ptr [[AGG_RESULT_IMAGP2]], align 8
// CHECK-DEF-NEXT:    [[AGG_RESULT_REALP3:%.*]] = getelementptr inbounds { double, double }, ptr [[AGG_RESULT]], i32 0, i32 0
// CHECK-DEF-NEXT:    [[AGG_RESULT_IMAGP4:%.*]] = getelementptr inbounds { double, double }, ptr [[AGG_RESULT]], i32 0, i32 1
// CHECK-DEF-NEXT:    store double [[AGG_RESULT_REAL]], ptr [[AGG_RESULT_REALP3]], align 8
// CHECK-DEF-NEXT:    store double [[AGG_RESULT_IMAG]], ptr [[AGG_RESULT_IMAGP4]], align 8
// CHECK-DEF-NEXT:    ret void
//
// CHECK-GNU-LABEL: define dso_local [4 x i32] @foo2
// CHECK-GNU-SAME: ([4 x i32] noundef [[X_COERCE:%.*]]) #[[ATTR0]] {
// CHECK-GNU-NEXT:  entry:
// CHECK-GNU-NEXT:    [[RETVAL:%.*]] = alloca { double, double }, align 8
// CHECK-GNU-NEXT:    [[X:%.*]] = alloca { double, double }, align 8
// CHECK-GNU-NEXT:    store [4 x i32] [[X_COERCE]], ptr [[X]], align 8
// CHECK-GNU-NEXT:    [[X_REALP:%.*]] = getelementptr inbounds { double, double }, ptr [[X]], i32 0, i32 0
// CHECK-GNU-NEXT:    [[X_REAL:%.*]] = load double, ptr [[X_REALP]], align 8
// CHECK-GNU-NEXT:    [[X_IMAGP:%.*]] = getelementptr inbounds { double, double }, ptr [[X]], i32 0, i32 1
// CHECK-GNU-NEXT:    [[X_IMAG:%.*]] = load double, ptr [[X_IMAGP]], align 8
// CHECK-GNU-NEXT:    [[RETVAL_REALP:%.*]] = getelementptr inbounds { double, double }, ptr [[RETVAL]], i32 0, i32 0
// CHECK-GNU-NEXT:    [[RETVAL_IMAGP:%.*]] = getelementptr inbounds { double, double }, ptr [[RETVAL]], i32 0, i32 1
// CHECK-GNU-NEXT:    store double [[X_REAL]], ptr [[RETVAL_REALP]], align 8
// CHECK-GNU-NEXT:    store double [[X_IMAG]], ptr [[RETVAL_IMAGP]], align 8
// CHECK-GNU-NEXT:    [[TMP0:%.*]] = load [4 x i32], ptr [[RETVAL]], align 8
// CHECK-GNU-NEXT:    ret [4 x i32] [[TMP0]]
//
_Complex double foo2(_Complex double x) {
  return x;
}

// CHECK-DEF-LABEL: define dso_local void @foo3
// CHECK-DEF-SAME: (ptr dead_on_unwind noalias writable sret({ ppc_fp128, ppc_fp128 }) align 16 [[AGG_RESULT:%.*]], ptr noundef byval({ ppc_fp128, ppc_fp128 }) align 16 [[X:%.*]]) #[[ATTR0]] {
// CHECK-DEF-NEXT:  entry:
// CHECK-DEF-NEXT:    [[X_REALP:%.*]] = getelementptr inbounds { ppc_fp128, ppc_fp128 }, ptr [[X]], i32 0, i32 0
// CHECK-DEF-NEXT:    [[X_REAL:%.*]] = load ppc_fp128, ptr [[X_REALP]], align 16
// CHECK-DEF-NEXT:    [[X_IMAGP:%.*]] = getelementptr inbounds { ppc_fp128, ppc_fp128 }, ptr [[X]], i32 0, i32 1
// CHECK-DEF-NEXT:    [[X_IMAG:%.*]] = load ppc_fp128, ptr [[X_IMAGP]], align 16
// CHECK-DEF-NEXT:    [[AGG_RESULT_REALP:%.*]] = getelementptr inbounds { ppc_fp128, ppc_fp128 }, ptr [[AGG_RESULT]], i32 0, i32 0
// CHECK-DEF-NEXT:    [[AGG_RESULT_IMAGP:%.*]] = getelementptr inbounds { ppc_fp128, ppc_fp128 }, ptr [[AGG_RESULT]], i32 0, i32 1
// CHECK-DEF-NEXT:    store ppc_fp128 [[X_REAL]], ptr [[AGG_RESULT_REALP]], align 16
// CHECK-DEF-NEXT:    store ppc_fp128 [[X_IMAG]], ptr [[AGG_RESULT_IMAGP]], align 16
// CHECK-DEF-NEXT:    [[AGG_RESULT_REALP1:%.*]] = getelementptr inbounds { ppc_fp128, ppc_fp128 }, ptr [[AGG_RESULT]], i32 0, i32 0
// CHECK-DEF-NEXT:    [[AGG_RESULT_REAL:%.*]] = load ppc_fp128, ptr [[AGG_RESULT_REALP1]], align 16
// CHECK-DEF-NEXT:    [[AGG_RESULT_IMAGP2:%.*]] = getelementptr inbounds { ppc_fp128, ppc_fp128 }, ptr [[AGG_RESULT]], i32 0, i32 1
// CHECK-DEF-NEXT:    [[AGG_RESULT_IMAG:%.*]] = load ppc_fp128, ptr [[AGG_RESULT_IMAGP2]], align 16
// CHECK-DEF-NEXT:    [[AGG_RESULT_REALP3:%.*]] = getelementptr inbounds { ppc_fp128, ppc_fp128 }, ptr [[AGG_RESULT]], i32 0, i32 0
// CHECK-DEF-NEXT:    [[AGG_RESULT_IMAGP4:%.*]] = getelementptr inbounds { ppc_fp128, ppc_fp128 }, ptr [[AGG_RESULT]], i32 0, i32 1
// CHECK-DEF-NEXT:    store ppc_fp128 [[AGG_RESULT_REAL]], ptr [[AGG_RESULT_REALP3]], align 16
// CHECK-DEF-NEXT:    store ppc_fp128 [[AGG_RESULT_IMAG]], ptr [[AGG_RESULT_IMAGP4]], align 16
// CHECK-DEF-NEXT:    ret void
//
// CHECK-GNU-LABEL: define dso_local [8 x i32] @foo3
// CHECK-GNU-SAME: ([8 x i32] noundef [[X_COERCE:%.*]]) #[[ATTR0]] {
// CHECK-GNU-NEXT:  entry:
// CHECK-GNU-NEXT:    [[RETVAL:%.*]] = alloca { ppc_fp128, ppc_fp128 }, align 16
// CHECK-GNU-NEXT:    [[X:%.*]] = alloca { ppc_fp128, ppc_fp128 }, align 16
// CHECK-GNU-NEXT:    store [8 x i32] [[X_COERCE]], ptr [[X]], align 16
// CHECK-GNU-NEXT:    [[X_REALP:%.*]] = getelementptr inbounds { ppc_fp128, ppc_fp128 }, ptr [[X]], i32 0, i32 0
// CHECK-GNU-NEXT:    [[X_REAL:%.*]] = load ppc_fp128, ptr [[X_REALP]], align 16
// CHECK-GNU-NEXT:    [[X_IMAGP:%.*]] = getelementptr inbounds { ppc_fp128, ppc_fp128 }, ptr [[X]], i32 0, i32 1
// CHECK-GNU-NEXT:    [[X_IMAG:%.*]] = load ppc_fp128, ptr [[X_IMAGP]], align 16
// CHECK-GNU-NEXT:    [[RETVAL_REALP:%.*]] = getelementptr inbounds { ppc_fp128, ppc_fp128 }, ptr [[RETVAL]], i32 0, i32 0
// CHECK-GNU-NEXT:    [[RETVAL_IMAGP:%.*]] = getelementptr inbounds { ppc_fp128, ppc_fp128 }, ptr [[RETVAL]], i32 0, i32 1
// CHECK-GNU-NEXT:    store ppc_fp128 [[X_REAL]], ptr [[RETVAL_REALP]], align 16
// CHECK-GNU-NEXT:    store ppc_fp128 [[X_IMAG]], ptr [[RETVAL_IMAGP]], align 16
// CHECK-GNU-NEXT:    [[TMP0:%.*]] = load [8 x i32], ptr [[RETVAL]], align 16
// CHECK-GNU-NEXT:    ret [8 x i32] [[TMP0]]
//
_Complex long double foo3(_Complex long double x) {
  return x;
}

// CHECK-DEF-LABEL: define dso_local void @foo4
// CHECK-DEF-SAME: (ptr dead_on_unwind noalias writable sret({ ppc_fp128, ppc_fp128 }) align 16 [[AGG_RESULT:%.*]], i32 noundef [[X:%.*]], ptr noundef byval({ ppc_fp128, ppc_fp128 }) align 16 [[Y:%.*]]) #[[ATTR0]] {
// CHECK-DEF-NEXT:  entry:
// CHECK-DEF-NEXT:    [[X_ADDR:%.*]] = alloca i32, align 4
// CHECK-DEF-NEXT:    store i32 [[X]], ptr [[X_ADDR]], align 4
// CHECK-DEF-NEXT:    [[Y_REALP:%.*]] = getelementptr inbounds { ppc_fp128, ppc_fp128 }, ptr [[Y]], i32 0, i32 0
// CHECK-DEF-NEXT:    [[Y_REAL:%.*]] = load ppc_fp128, ptr [[Y_REALP]], align 16
// CHECK-DEF-NEXT:    [[Y_IMAGP:%.*]] = getelementptr inbounds { ppc_fp128, ppc_fp128 }, ptr [[Y]], i32 0, i32 1
// CHECK-DEF-NEXT:    [[Y_IMAG:%.*]] = load ppc_fp128, ptr [[Y_IMAGP]], align 16
// CHECK-DEF-NEXT:    [[AGG_RESULT_REALP:%.*]] = getelementptr inbounds { ppc_fp128, ppc_fp128 }, ptr [[AGG_RESULT]], i32 0, i32 0
// CHECK-DEF-NEXT:    [[AGG_RESULT_IMAGP:%.*]] = getelementptr inbounds { ppc_fp128, ppc_fp128 }, ptr [[AGG_RESULT]], i32 0, i32 1
// CHECK-DEF-NEXT:    store ppc_fp128 [[Y_REAL]], ptr [[AGG_RESULT_REALP]], align 16
// CHECK-DEF-NEXT:    store ppc_fp128 [[Y_IMAG]], ptr [[AGG_RESULT_IMAGP]], align 16
// CHECK-DEF-NEXT:    [[AGG_RESULT_REALP1:%.*]] = getelementptr inbounds { ppc_fp128, ppc_fp128 }, ptr [[AGG_RESULT]], i32 0, i32 0
// CHECK-DEF-NEXT:    [[AGG_RESULT_REAL:%.*]] = load ppc_fp128, ptr [[AGG_RESULT_REALP1]], align 16
// CHECK-DEF-NEXT:    [[AGG_RESULT_IMAGP2:%.*]] = getelementptr inbounds { ppc_fp128, ppc_fp128 }, ptr [[AGG_RESULT]], i32 0, i32 1
// CHECK-DEF-NEXT:    [[AGG_RESULT_IMAG:%.*]] = load ppc_fp128, ptr [[AGG_RESULT_IMAGP2]], align 16
// CHECK-DEF-NEXT:    [[AGG_RESULT_REALP3:%.*]] = getelementptr inbounds { ppc_fp128, ppc_fp128 }, ptr [[AGG_RESULT]], i32 0, i32 0
// CHECK-DEF-NEXT:    [[AGG_RESULT_IMAGP4:%.*]] = getelementptr inbounds { ppc_fp128, ppc_fp128 }, ptr [[AGG_RESULT]], i32 0, i32 1
// CHECK-DEF-NEXT:    store ppc_fp128 [[AGG_RESULT_REAL]], ptr [[AGG_RESULT_REALP3]], align 16
// CHECK-DEF-NEXT:    store ppc_fp128 [[AGG_RESULT_IMAG]], ptr [[AGG_RESULT_IMAGP4]], align 16
// CHECK-DEF-NEXT:    ret void
//
// CHECK-GNU-LABEL: define dso_local [8 x i32] @foo4
// CHECK-GNU-SAME: (i32 noundef [[X:%.*]], ptr noundef byval({ ppc_fp128, ppc_fp128 }) align 16 [[Y:%.*]]) #[[ATTR0]] {
// CHECK-GNU-NEXT:  entry:
// CHECK-GNU-NEXT:    [[RETVAL:%.*]] = alloca { ppc_fp128, ppc_fp128 }, align 16
// CHECK-GNU-NEXT:    [[X_ADDR:%.*]] = alloca i32, align 4
// CHECK-GNU-NEXT:    store i32 [[X]], ptr [[X_ADDR]], align 4
// CHECK-GNU-NEXT:    [[Y_REALP:%.*]] = getelementptr inbounds { ppc_fp128, ppc_fp128 }, ptr [[Y]], i32 0, i32 0
// CHECK-GNU-NEXT:    [[Y_REAL:%.*]] = load ppc_fp128, ptr [[Y_REALP]], align 16
// CHECK-GNU-NEXT:    [[Y_IMAGP:%.*]] = getelementptr inbounds { ppc_fp128, ppc_fp128 }, ptr [[Y]], i32 0, i32 1
// CHECK-GNU-NEXT:    [[Y_IMAG:%.*]] = load ppc_fp128, ptr [[Y_IMAGP]], align 16
// CHECK-GNU-NEXT:    [[RETVAL_REALP:%.*]] = getelementptr inbounds { ppc_fp128, ppc_fp128 }, ptr [[RETVAL]], i32 0, i32 0
// CHECK-GNU-NEXT:    [[RETVAL_IMAGP:%.*]] = getelementptr inbounds { ppc_fp128, ppc_fp128 }, ptr [[RETVAL]], i32 0, i32 1
// CHECK-GNU-NEXT:    store ppc_fp128 [[Y_REAL]], ptr [[RETVAL_REALP]], align 16
// CHECK-GNU-NEXT:    store ppc_fp128 [[Y_IMAG]], ptr [[RETVAL_IMAGP]], align 16
// CHECK-GNU-NEXT:    [[TMP0:%.*]] = load [8 x i32], ptr [[RETVAL]], align 16
// CHECK-GNU-NEXT:    ret [8 x i32] [[TMP0]]
//
_Complex long double foo4(int x, _Complex long double y)
{
    return y;
}

// CHECK-DEF-LABEL: define dso_local void @foo5
// CHECK-DEF-SAME: (ptr dead_on_unwind noalias writable sret({ double, double }) align 8 [[AGG_RESULT:%.*]], ptr noundef byval({ double, double }) align 8 [[W:%.*]], ptr noundef byval({ float, float }) align 4 [[X:%.*]], i32 noundef [[Y:%.*]], i64 noundef [[Z:%.*]]) #[[ATTR0]] {
// CHECK-DEF-NEXT:  entry:
// CHECK-DEF-NEXT:    [[Y_ADDR:%.*]] = alloca i32, align 4
// CHECK-DEF-NEXT:    [[Z_ADDR:%.*]] = alloca i64, align 8
// CHECK-DEF-NEXT:    store i32 [[Y]], ptr [[Y_ADDR]], align 4
// CHECK-DEF-NEXT:    store i64 [[Z]], ptr [[Z_ADDR]], align 8
// CHECK-DEF-NEXT:    [[W_REALP:%.*]] = getelementptr inbounds { double, double }, ptr [[W]], i32 0, i32 0
// CHECK-DEF-NEXT:    [[W_REAL:%.*]] = load double, ptr [[W_REALP]], align 8
// CHECK-DEF-NEXT:    [[W_IMAGP:%.*]] = getelementptr inbounds { double, double }, ptr [[W]], i32 0, i32 1
// CHECK-DEF-NEXT:    [[W_IMAG:%.*]] = load double, ptr [[W_IMAGP]], align 8
// CHECK-DEF-NEXT:    [[AGG_RESULT_REALP:%.*]] = getelementptr inbounds { double, double }, ptr [[AGG_RESULT]], i32 0, i32 0
// CHECK-DEF-NEXT:    [[AGG_RESULT_IMAGP:%.*]] = getelementptr inbounds { double, double }, ptr [[AGG_RESULT]], i32 0, i32 1
// CHECK-DEF-NEXT:    store double [[W_REAL]], ptr [[AGG_RESULT_REALP]], align 8
// CHECK-DEF-NEXT:    store double [[W_IMAG]], ptr [[AGG_RESULT_IMAGP]], align 8
// CHECK-DEF-NEXT:    [[AGG_RESULT_REALP1:%.*]] = getelementptr inbounds { double, double }, ptr [[AGG_RESULT]], i32 0, i32 0
// CHECK-DEF-NEXT:    [[AGG_RESULT_REAL:%.*]] = load double, ptr [[AGG_RESULT_REALP1]], align 8
// CHECK-DEF-NEXT:    [[AGG_RESULT_IMAGP2:%.*]] = getelementptr inbounds { double, double }, ptr [[AGG_RESULT]], i32 0, i32 1
// CHECK-DEF-NEXT:    [[AGG_RESULT_IMAG:%.*]] = load double, ptr [[AGG_RESULT_IMAGP2]], align 8
// CHECK-DEF-NEXT:    [[AGG_RESULT_REALP3:%.*]] = getelementptr inbounds { double, double }, ptr [[AGG_RESULT]], i32 0, i32 0
// CHECK-DEF-NEXT:    [[AGG_RESULT_IMAGP4:%.*]] = getelementptr inbounds { double, double }, ptr [[AGG_RESULT]], i32 0, i32 1
// CHECK-DEF-NEXT:    store double [[AGG_RESULT_REAL]], ptr [[AGG_RESULT_REALP3]], align 8
// CHECK-DEF-NEXT:    store double [[AGG_RESULT_IMAG]], ptr [[AGG_RESULT_IMAGP4]], align 8
// CHECK-DEF-NEXT:    ret void
//
// CHECK-GNU-LABEL: define dso_local [4 x i32] @foo5
// CHECK-GNU-SAME: ([4 x i32] noundef [[W_COERCE:%.*]], [1 x i64] noundef [[X_COERCE:%.*]], i32 noundef [[Y:%.*]], i64 noundef [[Z:%.*]]) #[[ATTR0]] {
// CHECK-GNU-NEXT:  entry:
// CHECK-GNU-NEXT:    [[RETVAL:%.*]] = alloca { double, double }, align 8
// CHECK-GNU-NEXT:    [[W:%.*]] = alloca { double, double }, align 8
// CHECK-GNU-NEXT:    [[X:%.*]] = alloca { float, float }, align 4
// CHECK-GNU-NEXT:    [[Y_ADDR:%.*]] = alloca i32, align 4
// CHECK-GNU-NEXT:    [[Z_ADDR:%.*]] = alloca i64, align 8
// CHECK-GNU-NEXT:    store [4 x i32] [[W_COERCE]], ptr [[W]], align 8
// CHECK-GNU-NEXT:    store [1 x i64] [[X_COERCE]], ptr [[X]], align 4
// CHECK-GNU-NEXT:    store i32 [[Y]], ptr [[Y_ADDR]], align 4
// CHECK-GNU-NEXT:    store i64 [[Z]], ptr [[Z_ADDR]], align 8
// CHECK-GNU-NEXT:    [[W_REALP:%.*]] = getelementptr inbounds { double, double }, ptr [[W]], i32 0, i32 0
// CHECK-GNU-NEXT:    [[W_REAL:%.*]] = load double, ptr [[W_REALP]], align 8
// CHECK-GNU-NEXT:    [[W_IMAGP:%.*]] = getelementptr inbounds { double, double }, ptr [[W]], i32 0, i32 1
// CHECK-GNU-NEXT:    [[W_IMAG:%.*]] = load double, ptr [[W_IMAGP]], align 8
// CHECK-GNU-NEXT:    [[RETVAL_REALP:%.*]] = getelementptr inbounds { double, double }, ptr [[RETVAL]], i32 0, i32 0
// CHECK-GNU-NEXT:    [[RETVAL_IMAGP:%.*]] = getelementptr inbounds { double, double }, ptr [[RETVAL]], i32 0, i32 1
// CHECK-GNU-NEXT:    store double [[W_REAL]], ptr [[RETVAL_REALP]], align 8
// CHECK-GNU-NEXT:    store double [[W_IMAG]], ptr [[RETVAL_IMAGP]], align 8
// CHECK-GNU-NEXT:    [[TMP0:%.*]] = load [4 x i32], ptr [[RETVAL]], align 8
// CHECK-GNU-NEXT:    ret [4 x i32] [[TMP0]]
//
_Complex double foo5(_Complex double w, _Complex float x, int y, long long z)
{
  return w;
}

// CHECK-DEF-LABEL: define dso_local i32 @foo6
// CHECK-DEF-SAME: (ptr noundef byval({ ppc_fp128, ppc_fp128 }) align 16 [[W:%.*]], i32 noundef [[X:%.*]]) #[[ATTR0]] {
// CHECK-DEF-NEXT:  entry:
// CHECK-DEF-NEXT:    [[X_ADDR:%.*]] = alloca i32, align 4
// CHECK-DEF-NEXT:    store i32 [[X]], ptr [[X_ADDR]], align 4
// CHECK-DEF-NEXT:    [[TMP0:%.*]] = load i32, ptr [[X_ADDR]], align 4
// CHECK-DEF-NEXT:    ret i32 [[TMP0]]
//
// CHECK-GNU-LABEL: define dso_local i32 @foo6
// CHECK-GNU-SAME: ([8 x i32] noundef [[W_COERCE:%.*]], i32 noundef [[X:%.*]]) #[[ATTR0]] {
// CHECK-GNU-NEXT:  entry:
// CHECK-GNU-NEXT:    [[W:%.*]] = alloca { ppc_fp128, ppc_fp128 }, align 16
// CHECK-GNU-NEXT:    [[X_ADDR:%.*]] = alloca i32, align 4
// CHECK-GNU-NEXT:    store [8 x i32] [[W_COERCE]], ptr [[W]], align 16
// CHECK-GNU-NEXT:    store i32 [[X]], ptr [[X_ADDR]], align 4
// CHECK-GNU-NEXT:    [[TMP0:%.*]] = load i32, ptr [[X_ADDR]], align 4
// CHECK-GNU-NEXT:    ret i32 [[TMP0]]
//
int foo6(_Complex long double w, int x)
{
  return x;
}

// CHECK-DEF-LABEL: define dso_local void @foo7
// CHECK-DEF-SAME: (ptr dead_on_unwind noalias writable sret({ double, double }) align 8 [[AGG_RESULT:%.*]], i32 noundef [[X1:%.*]], i64 noundef [[Y1:%.*]], i32 noundef [[X2:%.*]], ptr noundef byval({ double, double }) align 8 [[Z:%.*]]) #[[ATTR0]] {
// CHECK-DEF-NEXT:  entry:
// CHECK-DEF-NEXT:    [[X1_ADDR:%.*]] = alloca i32, align 4
// CHECK-DEF-NEXT:    [[Y1_ADDR:%.*]] = alloca i64, align 8
// CHECK-DEF-NEXT:    [[X2_ADDR:%.*]] = alloca i32, align 4
// CHECK-DEF-NEXT:    store i32 [[X1]], ptr [[X1_ADDR]], align 4
// CHECK-DEF-NEXT:    store i64 [[Y1]], ptr [[Y1_ADDR]], align 8
// CHECK-DEF-NEXT:    store i32 [[X2]], ptr [[X2_ADDR]], align 4
// CHECK-DEF-NEXT:    [[Z_REALP:%.*]] = getelementptr inbounds { double, double }, ptr [[Z]], i32 0, i32 0
// CHECK-DEF-NEXT:    [[Z_REAL:%.*]] = load double, ptr [[Z_REALP]], align 8
// CHECK-DEF-NEXT:    [[Z_IMAGP:%.*]] = getelementptr inbounds { double, double }, ptr [[Z]], i32 0, i32 1
// CHECK-DEF-NEXT:    [[Z_IMAG:%.*]] = load double, ptr [[Z_IMAGP]], align 8
// CHECK-DEF-NEXT:    [[AGG_RESULT_REALP:%.*]] = getelementptr inbounds { double, double }, ptr [[AGG_RESULT]], i32 0, i32 0
// CHECK-DEF-NEXT:    [[AGG_RESULT_IMAGP:%.*]] = getelementptr inbounds { double, double }, ptr [[AGG_RESULT]], i32 0, i32 1
// CHECK-DEF-NEXT:    store double [[Z_REAL]], ptr [[AGG_RESULT_REALP]], align 8
// CHECK-DEF-NEXT:    store double [[Z_IMAG]], ptr [[AGG_RESULT_IMAGP]], align 8
// CHECK-DEF-NEXT:    [[AGG_RESULT_REALP1:%.*]] = getelementptr inbounds { double, double }, ptr [[AGG_RESULT]], i32 0, i32 0
// CHECK-DEF-NEXT:    [[AGG_RESULT_REAL:%.*]] = load double, ptr [[AGG_RESULT_REALP1]], align 8
// CHECK-DEF-NEXT:    [[AGG_RESULT_IMAGP2:%.*]] = getelementptr inbounds { double, double }, ptr [[AGG_RESULT]], i32 0, i32 1
// CHECK-DEF-NEXT:    [[AGG_RESULT_IMAG:%.*]] = load double, ptr [[AGG_RESULT_IMAGP2]], align 8
// CHECK-DEF-NEXT:    [[AGG_RESULT_REALP3:%.*]] = getelementptr inbounds { double, double }, ptr [[AGG_RESULT]], i32 0, i32 0
// CHECK-DEF-NEXT:    [[AGG_RESULT_IMAGP4:%.*]] = getelementptr inbounds { double, double }, ptr [[AGG_RESULT]], i32 0, i32 1
// CHECK-DEF-NEXT:    store double [[AGG_RESULT_REAL]], ptr [[AGG_RESULT_REALP3]], align 8
// CHECK-DEF-NEXT:    store double [[AGG_RESULT_IMAG]], ptr [[AGG_RESULT_IMAGP4]], align 8
// CHECK-DEF-NEXT:    ret void
//
// CHECK-GNU-LABEL: define dso_local [4 x i32] @foo7
// CHECK-GNU-SAME: (i32 noundef [[X1:%.*]], i64 noundef [[Y1:%.*]], i32 noundef [[X2:%.*]], ptr noundef byval({ double, double }) align 8 [[Z:%.*]]) #[[ATTR0]] {
// CHECK-GNU-NEXT:  entry:
// CHECK-GNU-NEXT:    [[RETVAL:%.*]] = alloca { double, double }, align 8
// CHECK-GNU-NEXT:    [[X1_ADDR:%.*]] = alloca i32, align 4
// CHECK-GNU-NEXT:    [[Y1_ADDR:%.*]] = alloca i64, align 8
// CHECK-GNU-NEXT:    [[X2_ADDR:%.*]] = alloca i32, align 4
// CHECK-GNU-NEXT:    store i32 [[X1]], ptr [[X1_ADDR]], align 4
// CHECK-GNU-NEXT:    store i64 [[Y1]], ptr [[Y1_ADDR]], align 8
// CHECK-GNU-NEXT:    store i32 [[X2]], ptr [[X2_ADDR]], align 4
// CHECK-GNU-NEXT:    [[Z_REALP:%.*]] = getelementptr inbounds { double, double }, ptr [[Z]], i32 0, i32 0
// CHECK-GNU-NEXT:    [[Z_REAL:%.*]] = load double, ptr [[Z_REALP]], align 8
// CHECK-GNU-NEXT:    [[Z_IMAGP:%.*]] = getelementptr inbounds { double, double }, ptr [[Z]], i32 0, i32 1
// CHECK-GNU-NEXT:    [[Z_IMAG:%.*]] = load double, ptr [[Z_IMAGP]], align 8
// CHECK-GNU-NEXT:    [[RETVAL_REALP:%.*]] = getelementptr inbounds { double, double }, ptr [[RETVAL]], i32 0, i32 0
// CHECK-GNU-NEXT:    [[RETVAL_IMAGP:%.*]] = getelementptr inbounds { double, double }, ptr [[RETVAL]], i32 0, i32 1
// CHECK-GNU-NEXT:    store double [[Z_REAL]], ptr [[RETVAL_REALP]], align 8
// CHECK-GNU-NEXT:    store double [[Z_IMAG]], ptr [[RETVAL_IMAGP]], align 8
// CHECK-GNU-NEXT:    [[TMP0:%.*]] = load [4 x i32], ptr [[RETVAL]], align 8
// CHECK-GNU-NEXT:    ret [4 x i32] [[TMP0]]
//
_Complex double foo7(int x1, long  long y1, int x2, _Complex double z)
{
  return z;
}
