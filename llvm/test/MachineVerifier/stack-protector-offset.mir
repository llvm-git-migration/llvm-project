# RUN: not --crash llc -mtriple=aarch64 -run-pass=machineverifier -o - %s 2>&1 | FileCheck %s
# REQUIRES: aarch64-registered-target

# CHECK: *** Bad machine code: Stack protector is not the top-most object on the stack ***

---
name:            main
frameInfo:
  stackSize:       16
  stackProtector:  '%stack.1'
  isCalleeSavedInfoValid: true
stack:
  - { id: 0, offset: -16, size: 8, alignment: 8, stack-id: default }
  - { id: 1, offset: -32, size: 8, alignment: 8, stack-id: default }
body:             |
  bb.0:
...
