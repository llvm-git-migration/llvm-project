# RUN: not --crash llc -o - -mtriple=arm64 -run-pass=none -verify-machineinstrs %s 2>&1 | FileCheck %s
# REQUIRES: aarch64-registered-target
---
name:            g_splat_vector
tracksRegLiveness: true
liveins:
body:             |
  bb.0:
    %0:_(<2 x s32>) = G_IMPLICIT_DEF
    %1:_(s32) = G_CONSTANT i32 0
    %2:_(s32) = G_CONSTANT i32 1
    %3:_(<2 x s32>) = G_BUILD_VECTOR %1, %2

    ; CHECK: Destination type must be a vector
    %4:_(s32) = G_SPLAT_VECTOR %1

    ; CHECK: Source type must be a scalar
    %5:_(<2 x s32>) = G_SPLAT_VECTOR %3

    ; CHECK: Element type of the destination must be the same type as the source type
    %6:_(<2 x s64>) = G_SPLAT_VECTOR %5

    %7:_(<vscale x 2 x s32>) = G_IMPLICIT_DEF

    ; CHECK: Destination type must be a vector
    %8:_(s32) = G_SPLAT_VECTOR %7

    ; CHECK: Source type must be a scalar
    %9:_(<vscale x 2 x s32>) = G_SPLAT_VECTOR %7

    ; CHECK: Element type of the destination must be the same type as the source type
    %10:_(<vscale x 2 x s64>) = G_SPLAT_VECTOR %7
...
