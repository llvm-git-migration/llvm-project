; NOTE: Assertions have been autogenerated by utils/update_test_checks.py
; RUN: opt < %s -passes=instcombine -mtriple=x86_64-unknown-unknown -S | FileCheck %s

define i8 @and_sub(i8 %a) {
; CHECK-LABEL: @and_sub(
; CHECK-NEXT:    [[RET:%.*]] = and i8 [[A:%.*]], 12
; CHECK-NEXT:    ret i8 [[RET]]
;
  %and1 = and i8 %a, 15
  %and2 = and i8 %a, 3

  %ret = sub i8 %and1, %and2
  ret i8 %ret
}
