; NOTE: Assertions have been autogenerated by utils/update_test_checks.py UTC_ARGS: --version 5
; RUN: opt -S -passes='require<memoryssa>,loop-simplify,early-cse<memssa>' -earlycse-debug-hash -verify-memoryssa %s | FileCheck %s
; REQUIRES: asserts
target triple = "x86_64-unknown-linux-gnu"

define void @func(i1 %arg) {
; CHECK-LABEL: define void @func(
; CHECK-SAME: i1 [[ARG:%.*]]) {
; CHECK-NEXT:    br i1 [[ARG]], label %[[BB5_PREHEADER:.*]], label %[[BB3:.*]]
; CHECK:       [[BB5_PREHEADER]]:
; CHECK-NEXT:    br label %[[BB5:.*]]
; CHECK:       [[BB5]]:
; CHECK-NEXT:    store i16 undef, ptr undef, align 2
; CHECK-NEXT:    br i1 [[ARG]], label %[[BB5]], label %[[BB3_LOOPEXIT:.*]]
; CHECK:       [[BB3_LOOPEXIT]]:
; CHECK-NEXT:    br label %[[BB3]]
; CHECK:       [[BB3]]:
; CHECK-NEXT:    ret void
;
  br i1 %arg, label %bb5, label %bb3

bb5:                                              ; preds = %bb5, %0
  store i16 undef, ptr undef
  br i1 %arg, label %bb5, label %bb3

bb3:                                              ; preds = %bb5, %0
  ret void
}
