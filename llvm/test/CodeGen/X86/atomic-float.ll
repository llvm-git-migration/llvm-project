; NOTE: Assertions have been autogenerated by utils/update_test_checks.py UTC_ARGS: --version 5
; RUN: opt < %s --mtriple=x86_64 --passes=atomic-expand -S -o - | FileCheck %s

define float @load_atomic_float() {
; CHECK-LABEL: define float @load_atomic_float() {
; CHECK-NEXT:    [[SRC:%.*]] = alloca float, align 4
; CHECK-NEXT:    [[TMP1:%.*]] = load atomic i32, ptr [[SRC]] acquire, align 4
; CHECK-NEXT:    [[TMP2:%.*]] = bitcast i32 [[TMP1]] to float
; CHECK-NEXT:    ret float [[TMP2]]
;
  %src = alloca float
  %ret = load atomic float, ptr %src acquire, align 4
  ret float %ret
}

