; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 5
; RUN: llc -mtriple=riscv64 -verify-machineinstrs < %s \
; RUN:   | FileCheck %s

define void @test_Pr_wide_scalar_in(i64 noundef %p) nounwind {
; CHECK-LABEL: test_Pr_wide_scalar_in:
; CHECK:       # %bb.0: # %entry
; CHECK-NEXT:    srai a1, a0, 63
; CHECK-NEXT:    #APP
; CHECK-NEXT:    # a0
; CHECK-NEXT:    #NO_APP
; CHECK-NEXT:    ret
entry:
  %p2 = sext i64 %p to i128
  call void asm sideeffect "/* $0 */", "^Pr"(i128 %p2)
  ret void
}

; define i64 @test_Pr_wide_scalar_out() nounwind {
; entry:
;   %0 = call i128 asm sideeffect "/* $0 */", "=^Pr"()
;   %1 = trunc i128 %0 to i64
;   ret i64 %1
; }

; define i128 @test_Pr_wide_scalar(i128 noundef %p) nounwind {
; entry:
;   %0 = call i128 asm sideeffect "", "=^Pr,^Pr"(i128 %p)
;   ret i128 %0
; }
