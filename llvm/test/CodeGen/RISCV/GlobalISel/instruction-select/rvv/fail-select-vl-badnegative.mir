# RUN: not --crash llc -mtriple=riscv32 -mattr=+v,+m -run-pass=instruction-select \
# RUN:   -verify-machineinstrs %s 2>&1 | FileCheck %s

---
# CHECK: LLVM ERROR: cannot select: 
name:            bad_negative_vl
legalized:       true
regBankSelected: true
tracksRegLiveness: true
body:             |
  bb.1:
    %0:gprb(s32) = G_CONSTANT i32 -2
    %1:vrb(<vscale x 1 x s1>) = G_VMCLR_VL %0(s32)
    $v0 = COPY %1(<vscale x 1 x s1>)
    PseudoRET implicit $v0
...

