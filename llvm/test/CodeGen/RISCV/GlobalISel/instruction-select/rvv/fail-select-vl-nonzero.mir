# RUN: not --crash llc -mtriple=riscv32 -mattr=+v,+m -run-pass=instruction-select \
# RUN:   -verify-machineinstrs %s 2>&1 | FileCheck %s

# FIXME: This should be supported in the future
---
name:            not_implemented_vl_nonzero
legalized:       true
regBankSelected: true
tracksRegLiveness: true
body:             |
  bb.1:
    %0:gprb(s32) = G_CONSTANT i32 1
    %1:vrb(<vscale x 1 x s1>) = G_VMCLR_VL %0(s32)
    $v0 = COPY %1(<vscale x 1 x s1>)
    PseudoRET implicit $v0

# CHECK: LLVM ERROR: cannot select
...

