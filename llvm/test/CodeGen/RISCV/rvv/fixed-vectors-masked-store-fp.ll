; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; RUN: llc -mtriple=riscv32 -mattr=+m,+v,+f,+d,+zvfh,+zvfbfmin,+zfbfmin -verify-machineinstrs < %s | FileCheck %s --check-prefixes=CHECK,ZVFH,RV32,RV32-ZVFH
; RUN: llc -mtriple=riscv64 -mattr=+m,+v,+f,+d,+zvfh,+zvfbfmin,+zfbfmin -verify-machineinstrs < %s | FileCheck %s --check-prefixes=CHECK,ZVFH,RV64,RV64-ZVFH
; RUN: llc -mtriple=riscv32 -mattr=+m,+v,+f,+d,+zvfhmin,+zvfbfmin,+zfhmin,+zfbfmin -verify-machineinstrs < %s | FileCheck %s --check-prefixes=CHECK,ZVFHMIN,RV32,RV32-ZVFHMIN
; RUN: llc -mtriple=riscv64 -mattr=+m,+v,+f,+d,+zvfhmin,+zvfbfmin,+zfhmin,+zfbfmin -verify-machineinstrs < %s | FileCheck %s --check-prefixes=CHECK,ZVFHMIN,RV64,RV64-ZVFHMIN

define void @masked_store_v1bf16(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; CHECK-LABEL: masked_store_v1bf16:
; CHECK:       # %bb.0:
; CHECK-NEXT:    vsetivli zero, 1, e16, mf4, ta, ma
; CHECK-NEXT:    vle16.v v8, (a2)
; CHECK-NEXT:    vfwcvtbf16.f.f.v v9, v8
; CHECK-NEXT:    vle16.v v8, (a0)
; CHECK-NEXT:    fmv.w.x fa5, zero
; CHECK-NEXT:    vsetvli zero, zero, e32, mf2, ta, ma
; CHECK-NEXT:    vmfeq.vf v0, v9, fa5
; CHECK-NEXT:    vse16.v v8, (a1), v0.t
; CHECK-NEXT:    ret
  %m = load <1 x bfloat>, ptr %m_ptr
  %mask = fcmp oeq <1 x bfloat> %m, zeroinitializer
  %val = load <1 x bfloat>, ptr %val_ptr
  call void @llvm.masked.store.v1bf16.p0v1bf16(<1 x bfloat> %val, ptr %a, i32 8, <1 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v1bf16.p0v1bf16(<1 x bfloat>, ptr, i32, <1 x i1>)

define void @masked_store_v1f16(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; ZVFH-LABEL: masked_store_v1f16:
; ZVFH:       # %bb.0:
; ZVFH-NEXT:    vsetivli zero, 1, e16, mf4, ta, ma
; ZVFH-NEXT:    vle16.v v8, (a2)
; ZVFH-NEXT:    vle16.v v9, (a0)
; ZVFH-NEXT:    fmv.h.x fa5, zero
; ZVFH-NEXT:    vmfeq.vf v0, v8, fa5
; ZVFH-NEXT:    vse16.v v9, (a1), v0.t
; ZVFH-NEXT:    ret
;
; ZVFHMIN-LABEL: masked_store_v1f16:
; ZVFHMIN:       # %bb.0:
; ZVFHMIN-NEXT:    vsetivli zero, 1, e16, mf4, ta, ma
; ZVFHMIN-NEXT:    vle16.v v8, (a2)
; ZVFHMIN-NEXT:    vfwcvt.f.f.v v9, v8
; ZVFHMIN-NEXT:    vle16.v v8, (a0)
; ZVFHMIN-NEXT:    fmv.w.x fa5, zero
; ZVFHMIN-NEXT:    vsetvli zero, zero, e32, mf2, ta, ma
; ZVFHMIN-NEXT:    vmfeq.vf v0, v9, fa5
; ZVFHMIN-NEXT:    vse16.v v8, (a1), v0.t
; ZVFHMIN-NEXT:    ret
  %m = load <1 x half>, ptr %m_ptr
  %mask = fcmp oeq <1 x half> %m, zeroinitializer
  %val = load <1 x half>, ptr %val_ptr
  call void @llvm.masked.store.v1f16.p0v1f16(<1 x half> %val, ptr %a, i32 8, <1 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v1f16.p0v1f16(<1 x half>, ptr, i32, <1 x i1>)

define void @masked_store_v1f32(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; CHECK-LABEL: masked_store_v1f32:
; CHECK:       # %bb.0:
; CHECK-NEXT:    vsetivli zero, 1, e32, mf2, ta, ma
; CHECK-NEXT:    vle32.v v8, (a2)
; CHECK-NEXT:    vle32.v v9, (a0)
; CHECK-NEXT:    fmv.w.x fa5, zero
; CHECK-NEXT:    vmfeq.vf v0, v8, fa5
; CHECK-NEXT:    vse32.v v9, (a1), v0.t
; CHECK-NEXT:    ret
  %m = load <1 x float>, ptr %m_ptr
  %mask = fcmp oeq <1 x float> %m, zeroinitializer
  %val = load <1 x float>, ptr %val_ptr
  call void @llvm.masked.store.v1f32.p0v1f32(<1 x float> %val, ptr %a, i32 8, <1 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v1f32.p0v1f32(<1 x float>, ptr, i32, <1 x i1>)

define void @masked_store_v1f64(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; RV32-LABEL: masked_store_v1f64:
; RV32:       # %bb.0:
; RV32-NEXT:    vsetivli zero, 1, e64, m1, ta, ma
; RV32-NEXT:    vle64.v v8, (a2)
; RV32-NEXT:    vle64.v v9, (a0)
; RV32-NEXT:    fcvt.d.w fa5, zero
; RV32-NEXT:    vmfeq.vf v0, v8, fa5
; RV32-NEXT:    vse64.v v9, (a1), v0.t
; RV32-NEXT:    ret
;
; RV64-LABEL: masked_store_v1f64:
; RV64:       # %bb.0:
; RV64-NEXT:    vsetivli zero, 1, e64, m1, ta, ma
; RV64-NEXT:    vle64.v v8, (a2)
; RV64-NEXT:    vle64.v v9, (a0)
; RV64-NEXT:    fmv.d.x fa5, zero
; RV64-NEXT:    vmfeq.vf v0, v8, fa5
; RV64-NEXT:    vse64.v v9, (a1), v0.t
; RV64-NEXT:    ret
  %m = load <1 x double>, ptr %m_ptr
  %mask = fcmp oeq <1 x double> %m, zeroinitializer
  %val = load <1 x double>, ptr %val_ptr
  call void @llvm.masked.store.v1f64.p0v1f64(<1 x double> %val, ptr %a, i32 8, <1 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v1f64.p0v1f64(<1 x double>, ptr, i32, <1 x i1>)

define void @masked_store_v2bf16(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; CHECK-LABEL: masked_store_v2bf16:
; CHECK:       # %bb.0:
; CHECK-NEXT:    vsetivli zero, 2, e16, mf4, ta, ma
; CHECK-NEXT:    vle16.v v8, (a2)
; CHECK-NEXT:    vfwcvtbf16.f.f.v v9, v8
; CHECK-NEXT:    vle16.v v8, (a0)
; CHECK-NEXT:    fmv.w.x fa5, zero
; CHECK-NEXT:    vsetvli zero, zero, e32, mf2, ta, ma
; CHECK-NEXT:    vmfeq.vf v0, v9, fa5
; CHECK-NEXT:    vse16.v v8, (a1), v0.t
; CHECK-NEXT:    ret
  %m = load <2 x bfloat>, ptr %m_ptr
  %mask = fcmp oeq <2 x bfloat> %m, zeroinitializer
  %val = load <2 x bfloat>, ptr %val_ptr
  call void @llvm.masked.store.v2bf16.p0v2bf16(<2 x bfloat> %val, ptr %a, i32 8, <2 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v2bf16.p0v2bf16(<2 x bfloat>, ptr, i32, <2 x i1>)

define void @masked_store_v2f16(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; ZVFH-LABEL: masked_store_v2f16:
; ZVFH:       # %bb.0:
; ZVFH-NEXT:    vsetivli zero, 2, e16, mf4, ta, ma
; ZVFH-NEXT:    vle16.v v8, (a2)
; ZVFH-NEXT:    vle16.v v9, (a0)
; ZVFH-NEXT:    fmv.h.x fa5, zero
; ZVFH-NEXT:    vmfeq.vf v0, v8, fa5
; ZVFH-NEXT:    vse16.v v9, (a1), v0.t
; ZVFH-NEXT:    ret
;
; ZVFHMIN-LABEL: masked_store_v2f16:
; ZVFHMIN:       # %bb.0:
; ZVFHMIN-NEXT:    vsetivli zero, 2, e16, mf4, ta, ma
; ZVFHMIN-NEXT:    vle16.v v8, (a2)
; ZVFHMIN-NEXT:    vfwcvt.f.f.v v9, v8
; ZVFHMIN-NEXT:    vle16.v v8, (a0)
; ZVFHMIN-NEXT:    fmv.w.x fa5, zero
; ZVFHMIN-NEXT:    vsetvli zero, zero, e32, mf2, ta, ma
; ZVFHMIN-NEXT:    vmfeq.vf v0, v9, fa5
; ZVFHMIN-NEXT:    vse16.v v8, (a1), v0.t
; ZVFHMIN-NEXT:    ret
  %m = load <2 x half>, ptr %m_ptr
  %mask = fcmp oeq <2 x half> %m, zeroinitializer
  %val = load <2 x half>, ptr %val_ptr
  call void @llvm.masked.store.v2f16.p0v2f16(<2 x half> %val, ptr %a, i32 8, <2 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v2f16.p0v2f16(<2 x half>, ptr, i32, <2 x i1>)

define void @masked_store_v2f32(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; CHECK-LABEL: masked_store_v2f32:
; CHECK:       # %bb.0:
; CHECK-NEXT:    vsetivli zero, 2, e32, mf2, ta, ma
; CHECK-NEXT:    vle32.v v8, (a2)
; CHECK-NEXT:    vle32.v v9, (a0)
; CHECK-NEXT:    fmv.w.x fa5, zero
; CHECK-NEXT:    vmfeq.vf v0, v8, fa5
; CHECK-NEXT:    vse32.v v9, (a1), v0.t
; CHECK-NEXT:    ret
  %m = load <2 x float>, ptr %m_ptr
  %mask = fcmp oeq <2 x float> %m, zeroinitializer
  %val = load <2 x float>, ptr %val_ptr
  call void @llvm.masked.store.v2f32.p0v2f32(<2 x float> %val, ptr %a, i32 8, <2 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v2f32.p0v2f32(<2 x float>, ptr, i32, <2 x i1>)

define void @masked_store_v2f64(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; RV32-LABEL: masked_store_v2f64:
; RV32:       # %bb.0:
; RV32-NEXT:    vsetivli zero, 2, e64, m1, ta, ma
; RV32-NEXT:    vle64.v v8, (a2)
; RV32-NEXT:    vle64.v v9, (a0)
; RV32-NEXT:    fcvt.d.w fa5, zero
; RV32-NEXT:    vmfeq.vf v0, v8, fa5
; RV32-NEXT:    vse64.v v9, (a1), v0.t
; RV32-NEXT:    ret
;
; RV64-LABEL: masked_store_v2f64:
; RV64:       # %bb.0:
; RV64-NEXT:    vsetivli zero, 2, e64, m1, ta, ma
; RV64-NEXT:    vle64.v v8, (a2)
; RV64-NEXT:    vle64.v v9, (a0)
; RV64-NEXT:    fmv.d.x fa5, zero
; RV64-NEXT:    vmfeq.vf v0, v8, fa5
; RV64-NEXT:    vse64.v v9, (a1), v0.t
; RV64-NEXT:    ret
  %m = load <2 x double>, ptr %m_ptr
  %mask = fcmp oeq <2 x double> %m, zeroinitializer
  %val = load <2 x double>, ptr %val_ptr
  call void @llvm.masked.store.v2f64.p0v2f64(<2 x double> %val, ptr %a, i32 8, <2 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v2f64.p0v2f64(<2 x double>, ptr, i32, <2 x i1>)

define void @masked_store_v4bf16(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; CHECK-LABEL: masked_store_v4bf16:
; CHECK:       # %bb.0:
; CHECK-NEXT:    vsetivli zero, 4, e16, mf2, ta, ma
; CHECK-NEXT:    vle16.v v8, (a2)
; CHECK-NEXT:    vfwcvtbf16.f.f.v v9, v8
; CHECK-NEXT:    vle16.v v8, (a0)
; CHECK-NEXT:    fmv.w.x fa5, zero
; CHECK-NEXT:    vsetvli zero, zero, e32, m1, ta, ma
; CHECK-NEXT:    vmfeq.vf v0, v9, fa5
; CHECK-NEXT:    vse16.v v8, (a1), v0.t
; CHECK-NEXT:    ret
  %m = load <4 x bfloat>, ptr %m_ptr
  %mask = fcmp oeq <4 x bfloat> %m, zeroinitializer
  %val = load <4 x bfloat>, ptr %val_ptr
  call void @llvm.masked.store.v4bf16.p0v4bf16(<4 x bfloat> %val, ptr %a, i32 8, <4 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v4bf16.p0v4bf16(<4 x bfloat>, ptr, i32, <4 x i1>)

define void @masked_store_v4f16(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; ZVFH-LABEL: masked_store_v4f16:
; ZVFH:       # %bb.0:
; ZVFH-NEXT:    vsetivli zero, 4, e16, mf2, ta, ma
; ZVFH-NEXT:    vle16.v v8, (a2)
; ZVFH-NEXT:    vle16.v v9, (a0)
; ZVFH-NEXT:    fmv.h.x fa5, zero
; ZVFH-NEXT:    vmfeq.vf v0, v8, fa5
; ZVFH-NEXT:    vse16.v v9, (a1), v0.t
; ZVFH-NEXT:    ret
;
; ZVFHMIN-LABEL: masked_store_v4f16:
; ZVFHMIN:       # %bb.0:
; ZVFHMIN-NEXT:    vsetivli zero, 4, e16, mf2, ta, ma
; ZVFHMIN-NEXT:    vle16.v v8, (a2)
; ZVFHMIN-NEXT:    vfwcvt.f.f.v v9, v8
; ZVFHMIN-NEXT:    vle16.v v8, (a0)
; ZVFHMIN-NEXT:    fmv.w.x fa5, zero
; ZVFHMIN-NEXT:    vsetvli zero, zero, e32, m1, ta, ma
; ZVFHMIN-NEXT:    vmfeq.vf v0, v9, fa5
; ZVFHMIN-NEXT:    vse16.v v8, (a1), v0.t
; ZVFHMIN-NEXT:    ret
  %m = load <4 x half>, ptr %m_ptr
  %mask = fcmp oeq <4 x half> %m, zeroinitializer
  %val = load <4 x half>, ptr %val_ptr
  call void @llvm.masked.store.v4f16.p0v4f16(<4 x half> %val, ptr %a, i32 8, <4 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v4f16.p0v4f16(<4 x half>, ptr, i32, <4 x i1>)

define void @masked_store_v4f32(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; CHECK-LABEL: masked_store_v4f32:
; CHECK:       # %bb.0:
; CHECK-NEXT:    vsetivli zero, 4, e32, m1, ta, ma
; CHECK-NEXT:    vle32.v v8, (a2)
; CHECK-NEXT:    vle32.v v9, (a0)
; CHECK-NEXT:    fmv.w.x fa5, zero
; CHECK-NEXT:    vmfeq.vf v0, v8, fa5
; CHECK-NEXT:    vse32.v v9, (a1), v0.t
; CHECK-NEXT:    ret
  %m = load <4 x float>, ptr %m_ptr
  %mask = fcmp oeq <4 x float> %m, zeroinitializer
  %val = load <4 x float>, ptr %val_ptr
  call void @llvm.masked.store.v4f32.p0v4f32(<4 x float> %val, ptr %a, i32 8, <4 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v4f32.p0v4f32(<4 x float>, ptr, i32, <4 x i1>)

define void @masked_store_v4f64(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; RV32-LABEL: masked_store_v4f64:
; RV32:       # %bb.0:
; RV32-NEXT:    vsetivli zero, 4, e64, m2, ta, ma
; RV32-NEXT:    vle64.v v8, (a2)
; RV32-NEXT:    vle64.v v10, (a0)
; RV32-NEXT:    fcvt.d.w fa5, zero
; RV32-NEXT:    vmfeq.vf v0, v8, fa5
; RV32-NEXT:    vse64.v v10, (a1), v0.t
; RV32-NEXT:    ret
;
; RV64-LABEL: masked_store_v4f64:
; RV64:       # %bb.0:
; RV64-NEXT:    vsetivli zero, 4, e64, m2, ta, ma
; RV64-NEXT:    vle64.v v8, (a2)
; RV64-NEXT:    vle64.v v10, (a0)
; RV64-NEXT:    fmv.d.x fa5, zero
; RV64-NEXT:    vmfeq.vf v0, v8, fa5
; RV64-NEXT:    vse64.v v10, (a1), v0.t
; RV64-NEXT:    ret
  %m = load <4 x double>, ptr %m_ptr
  %mask = fcmp oeq <4 x double> %m, zeroinitializer
  %val = load <4 x double>, ptr %val_ptr
  call void @llvm.masked.store.v4f64.p0v4f64(<4 x double> %val, ptr %a, i32 8, <4 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v4f64.p0v4f64(<4 x double>, ptr, i32, <4 x i1>)

define void @masked_store_v8bf16(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; CHECK-LABEL: masked_store_v8bf16:
; CHECK:       # %bb.0:
; CHECK-NEXT:    vsetivli zero, 8, e16, m1, ta, ma
; CHECK-NEXT:    vle16.v v8, (a2)
; CHECK-NEXT:    vfwcvtbf16.f.f.v v10, v8
; CHECK-NEXT:    vle16.v v8, (a0)
; CHECK-NEXT:    fmv.w.x fa5, zero
; CHECK-NEXT:    vsetvli zero, zero, e32, m2, ta, ma
; CHECK-NEXT:    vmfeq.vf v0, v10, fa5
; CHECK-NEXT:    vse16.v v8, (a1), v0.t
; CHECK-NEXT:    ret
  %m = load <8 x bfloat>, ptr %m_ptr
  %mask = fcmp oeq <8 x bfloat> %m, zeroinitializer
  %val = load <8 x bfloat>, ptr %val_ptr
  call void @llvm.masked.store.v8bf16.p0v8bf16(<8 x bfloat> %val, ptr %a, i32 8, <8 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v8bf16.p0v8bf16(<8 x bfloat>, ptr, i32, <8 x i1>)

define void @masked_store_v8f16(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; ZVFH-LABEL: masked_store_v8f16:
; ZVFH:       # %bb.0:
; ZVFH-NEXT:    vsetivli zero, 8, e16, m1, ta, ma
; ZVFH-NEXT:    vle16.v v8, (a2)
; ZVFH-NEXT:    vle16.v v9, (a0)
; ZVFH-NEXT:    fmv.h.x fa5, zero
; ZVFH-NEXT:    vmfeq.vf v0, v8, fa5
; ZVFH-NEXT:    vse16.v v9, (a1), v0.t
; ZVFH-NEXT:    ret
;
; ZVFHMIN-LABEL: masked_store_v8f16:
; ZVFHMIN:       # %bb.0:
; ZVFHMIN-NEXT:    vsetivli zero, 8, e16, m1, ta, ma
; ZVFHMIN-NEXT:    vle16.v v8, (a2)
; ZVFHMIN-NEXT:    vfwcvt.f.f.v v10, v8
; ZVFHMIN-NEXT:    vle16.v v8, (a0)
; ZVFHMIN-NEXT:    fmv.w.x fa5, zero
; ZVFHMIN-NEXT:    vsetvli zero, zero, e32, m2, ta, ma
; ZVFHMIN-NEXT:    vmfeq.vf v0, v10, fa5
; ZVFHMIN-NEXT:    vse16.v v8, (a1), v0.t
; ZVFHMIN-NEXT:    ret
  %m = load <8 x half>, ptr %m_ptr
  %mask = fcmp oeq <8 x half> %m, zeroinitializer
  %val = load <8 x half>, ptr %val_ptr
  call void @llvm.masked.store.v8f16.p0v8f16(<8 x half> %val, ptr %a, i32 8, <8 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v8f16.p0v8f16(<8 x half>, ptr, i32, <8 x i1>)

define void @masked_store_v8f32(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; CHECK-LABEL: masked_store_v8f32:
; CHECK:       # %bb.0:
; CHECK-NEXT:    vsetivli zero, 8, e32, m2, ta, ma
; CHECK-NEXT:    vle32.v v8, (a2)
; CHECK-NEXT:    vle32.v v10, (a0)
; CHECK-NEXT:    fmv.w.x fa5, zero
; CHECK-NEXT:    vmfeq.vf v0, v8, fa5
; CHECK-NEXT:    vse32.v v10, (a1), v0.t
; CHECK-NEXT:    ret
  %m = load <8 x float>, ptr %m_ptr
  %mask = fcmp oeq <8 x float> %m, zeroinitializer
  %val = load <8 x float>, ptr %val_ptr
  call void @llvm.masked.store.v8f32.p0v8f32(<8 x float> %val, ptr %a, i32 8, <8 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v8f32.p0v8f32(<8 x float>, ptr, i32, <8 x i1>)

define void @masked_store_v8f64(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; RV32-LABEL: masked_store_v8f64:
; RV32:       # %bb.0:
; RV32-NEXT:    vsetivli zero, 8, e64, m4, ta, ma
; RV32-NEXT:    vle64.v v8, (a2)
; RV32-NEXT:    vle64.v v12, (a0)
; RV32-NEXT:    fcvt.d.w fa5, zero
; RV32-NEXT:    vmfeq.vf v0, v8, fa5
; RV32-NEXT:    vse64.v v12, (a1), v0.t
; RV32-NEXT:    ret
;
; RV64-LABEL: masked_store_v8f64:
; RV64:       # %bb.0:
; RV64-NEXT:    vsetivli zero, 8, e64, m4, ta, ma
; RV64-NEXT:    vle64.v v8, (a2)
; RV64-NEXT:    vle64.v v12, (a0)
; RV64-NEXT:    fmv.d.x fa5, zero
; RV64-NEXT:    vmfeq.vf v0, v8, fa5
; RV64-NEXT:    vse64.v v12, (a1), v0.t
; RV64-NEXT:    ret
  %m = load <8 x double>, ptr %m_ptr
  %mask = fcmp oeq <8 x double> %m, zeroinitializer
  %val = load <8 x double>, ptr %val_ptr
  call void @llvm.masked.store.v8f64.p0v8f64(<8 x double> %val, ptr %a, i32 8, <8 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v8f64.p0v8f64(<8 x double>, ptr, i32, <8 x i1>)

define void @masked_store_v16bf16(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; CHECK-LABEL: masked_store_v16bf16:
; CHECK:       # %bb.0:
; CHECK-NEXT:    vsetivli zero, 16, e16, m2, ta, ma
; CHECK-NEXT:    vle16.v v8, (a2)
; CHECK-NEXT:    vfwcvtbf16.f.f.v v12, v8
; CHECK-NEXT:    vle16.v v8, (a0)
; CHECK-NEXT:    fmv.w.x fa5, zero
; CHECK-NEXT:    vsetvli zero, zero, e32, m4, ta, ma
; CHECK-NEXT:    vmfeq.vf v0, v12, fa5
; CHECK-NEXT:    vse16.v v8, (a1), v0.t
; CHECK-NEXT:    ret
  %m = load <16 x bfloat>, ptr %m_ptr
  %mask = fcmp oeq <16 x bfloat> %m, zeroinitializer
  %val = load <16 x bfloat>, ptr %val_ptr
  call void @llvm.masked.store.v16bf16.p0v16bf16(<16 x bfloat> %val, ptr %a, i32 8, <16 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v16bf16.p0v16bf16(<16 x bfloat>, ptr, i32, <16 x i1>)

define void @masked_store_v16f16(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; ZVFH-LABEL: masked_store_v16f16:
; ZVFH:       # %bb.0:
; ZVFH-NEXT:    vsetivli zero, 16, e16, m2, ta, ma
; ZVFH-NEXT:    vle16.v v8, (a2)
; ZVFH-NEXT:    vle16.v v10, (a0)
; ZVFH-NEXT:    fmv.h.x fa5, zero
; ZVFH-NEXT:    vmfeq.vf v0, v8, fa5
; ZVFH-NEXT:    vse16.v v10, (a1), v0.t
; ZVFH-NEXT:    ret
;
; ZVFHMIN-LABEL: masked_store_v16f16:
; ZVFHMIN:       # %bb.0:
; ZVFHMIN-NEXT:    vsetivli zero, 16, e16, m2, ta, ma
; ZVFHMIN-NEXT:    vle16.v v8, (a2)
; ZVFHMIN-NEXT:    vfwcvt.f.f.v v12, v8
; ZVFHMIN-NEXT:    vle16.v v8, (a0)
; ZVFHMIN-NEXT:    fmv.w.x fa5, zero
; ZVFHMIN-NEXT:    vsetvli zero, zero, e32, m4, ta, ma
; ZVFHMIN-NEXT:    vmfeq.vf v0, v12, fa5
; ZVFHMIN-NEXT:    vse16.v v8, (a1), v0.t
; ZVFHMIN-NEXT:    ret
  %m = load <16 x half>, ptr %m_ptr
  %mask = fcmp oeq <16 x half> %m, zeroinitializer
  %val = load <16 x half>, ptr %val_ptr
  call void @llvm.masked.store.v16f16.p0v16f16(<16 x half> %val, ptr %a, i32 8, <16 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v16f16.p0v16f16(<16 x half>, ptr, i32, <16 x i1>)

define void @masked_store_v16f32(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; CHECK-LABEL: masked_store_v16f32:
; CHECK:       # %bb.0:
; CHECK-NEXT:    vsetivli zero, 16, e32, m4, ta, ma
; CHECK-NEXT:    vle32.v v8, (a2)
; CHECK-NEXT:    vle32.v v12, (a0)
; CHECK-NEXT:    fmv.w.x fa5, zero
; CHECK-NEXT:    vmfeq.vf v0, v8, fa5
; CHECK-NEXT:    vse32.v v12, (a1), v0.t
; CHECK-NEXT:    ret
  %m = load <16 x float>, ptr %m_ptr
  %mask = fcmp oeq <16 x float> %m, zeroinitializer
  %val = load <16 x float>, ptr %val_ptr
  call void @llvm.masked.store.v16f32.p0v16f32(<16 x float> %val, ptr %a, i32 8, <16 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v16f32.p0v16f32(<16 x float>, ptr, i32, <16 x i1>)

define void @masked_store_v16f64(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; RV32-LABEL: masked_store_v16f64:
; RV32:       # %bb.0:
; RV32-NEXT:    vsetivli zero, 16, e64, m8, ta, ma
; RV32-NEXT:    vle64.v v8, (a2)
; RV32-NEXT:    vle64.v v16, (a0)
; RV32-NEXT:    fcvt.d.w fa5, zero
; RV32-NEXT:    vmfeq.vf v0, v8, fa5
; RV32-NEXT:    vse64.v v16, (a1), v0.t
; RV32-NEXT:    ret
;
; RV64-LABEL: masked_store_v16f64:
; RV64:       # %bb.0:
; RV64-NEXT:    vsetivli zero, 16, e64, m8, ta, ma
; RV64-NEXT:    vle64.v v8, (a2)
; RV64-NEXT:    vle64.v v16, (a0)
; RV64-NEXT:    fmv.d.x fa5, zero
; RV64-NEXT:    vmfeq.vf v0, v8, fa5
; RV64-NEXT:    vse64.v v16, (a1), v0.t
; RV64-NEXT:    ret
  %m = load <16 x double>, ptr %m_ptr
  %mask = fcmp oeq <16 x double> %m, zeroinitializer
  %val = load <16 x double>, ptr %val_ptr
  call void @llvm.masked.store.v16f64.p0v16f64(<16 x double> %val, ptr %a, i32 8, <16 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v16f64.p0v16f64(<16 x double>, ptr, i32, <16 x i1>)

define void @masked_store_v32bf16(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; CHECK-LABEL: masked_store_v32bf16:
; CHECK:       # %bb.0:
; CHECK-NEXT:    li a3, 32
; CHECK-NEXT:    vsetvli zero, a3, e16, m4, ta, ma
; CHECK-NEXT:    vle16.v v8, (a2)
; CHECK-NEXT:    vfwcvtbf16.f.f.v v16, v8
; CHECK-NEXT:    vle16.v v8, (a0)
; CHECK-NEXT:    fmv.w.x fa5, zero
; CHECK-NEXT:    vsetvli zero, zero, e32, m8, ta, ma
; CHECK-NEXT:    vmfeq.vf v0, v16, fa5
; CHECK-NEXT:    vse16.v v8, (a1), v0.t
; CHECK-NEXT:    ret
  %m = load <32 x bfloat>, ptr %m_ptr
  %mask = fcmp oeq <32 x bfloat> %m, zeroinitializer
  %val = load <32 x bfloat>, ptr %val_ptr
  call void @llvm.masked.store.v32bf16.p0v32bf16(<32 x bfloat> %val, ptr %a, i32 8, <32 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v32bf16.p0v32bf16(<32 x bfloat>, ptr, i32, <32 x i1>)

define void @masked_store_v32f16(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; ZVFH-LABEL: masked_store_v32f16:
; ZVFH:       # %bb.0:
; ZVFH-NEXT:    li a3, 32
; ZVFH-NEXT:    vsetvli zero, a3, e16, m4, ta, ma
; ZVFH-NEXT:    vle16.v v8, (a2)
; ZVFH-NEXT:    vle16.v v12, (a0)
; ZVFH-NEXT:    fmv.h.x fa5, zero
; ZVFH-NEXT:    vmfeq.vf v0, v8, fa5
; ZVFH-NEXT:    vse16.v v12, (a1), v0.t
; ZVFH-NEXT:    ret
;
; ZVFHMIN-LABEL: masked_store_v32f16:
; ZVFHMIN:       # %bb.0:
; ZVFHMIN-NEXT:    li a3, 32
; ZVFHMIN-NEXT:    vsetvli zero, a3, e16, m4, ta, ma
; ZVFHMIN-NEXT:    vle16.v v8, (a2)
; ZVFHMIN-NEXT:    vfwcvt.f.f.v v16, v8
; ZVFHMIN-NEXT:    vle16.v v8, (a0)
; ZVFHMIN-NEXT:    fmv.w.x fa5, zero
; ZVFHMIN-NEXT:    vsetvli zero, zero, e32, m8, ta, ma
; ZVFHMIN-NEXT:    vmfeq.vf v0, v16, fa5
; ZVFHMIN-NEXT:    vse16.v v8, (a1), v0.t
; ZVFHMIN-NEXT:    ret
  %m = load <32 x half>, ptr %m_ptr
  %mask = fcmp oeq <32 x half> %m, zeroinitializer
  %val = load <32 x half>, ptr %val_ptr
  call void @llvm.masked.store.v32f16.p0v32f16(<32 x half> %val, ptr %a, i32 8, <32 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v32f16.p0v32f16(<32 x half>, ptr, i32, <32 x i1>)

define void @masked_store_v32f32(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; CHECK-LABEL: masked_store_v32f32:
; CHECK:       # %bb.0:
; CHECK-NEXT:    li a3, 32
; CHECK-NEXT:    vsetvli zero, a3, e32, m8, ta, ma
; CHECK-NEXT:    vle32.v v8, (a2)
; CHECK-NEXT:    vle32.v v16, (a0)
; CHECK-NEXT:    fmv.w.x fa5, zero
; CHECK-NEXT:    vmfeq.vf v0, v8, fa5
; CHECK-NEXT:    vse32.v v16, (a1), v0.t
; CHECK-NEXT:    ret
  %m = load <32 x float>, ptr %m_ptr
  %mask = fcmp oeq <32 x float> %m, zeroinitializer
  %val = load <32 x float>, ptr %val_ptr
  call void @llvm.masked.store.v32f32.p0v32f32(<32 x float> %val, ptr %a, i32 8, <32 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v32f32.p0v32f32(<32 x float>, ptr, i32, <32 x i1>)

define void @masked_store_v32f64(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; RV32-LABEL: masked_store_v32f64:
; RV32:       # %bb.0:
; RV32-NEXT:    addi sp, sp, -16
; RV32-NEXT:    csrr a3, vlenb
; RV32-NEXT:    slli a3, a3, 4
; RV32-NEXT:    sub sp, sp, a3
; RV32-NEXT:    vsetivli zero, 16, e64, m8, ta, ma
; RV32-NEXT:    vle64.v v8, (a2)
; RV32-NEXT:    addi a2, a2, 128
; RV32-NEXT:    vle64.v v16, (a2)
; RV32-NEXT:    csrr a2, vlenb
; RV32-NEXT:    slli a2, a2, 3
; RV32-NEXT:    add a2, sp, a2
; RV32-NEXT:    addi a2, a2, 16
; RV32-NEXT:    vs8r.v v16, (a2) # Unknown-size Folded Spill
; RV32-NEXT:    fcvt.d.w fa5, zero
; RV32-NEXT:    vmfeq.vf v0, v8, fa5
; RV32-NEXT:    vle64.v v24, (a0)
; RV32-NEXT:    addi a0, a0, 128
; RV32-NEXT:    vle64.v v8, (a0)
; RV32-NEXT:    addi a0, sp, 16
; RV32-NEXT:    vs8r.v v8, (a0) # Unknown-size Folded Spill
; RV32-NEXT:    csrr a0, vlenb
; RV32-NEXT:    slli a0, a0, 3
; RV32-NEXT:    add a0, sp, a0
; RV32-NEXT:    addi a0, a0, 16
; RV32-NEXT:    vl8r.v v16, (a0) # Unknown-size Folded Reload
; RV32-NEXT:    vmfeq.vf v8, v16, fa5
; RV32-NEXT:    vse64.v v24, (a1), v0.t
; RV32-NEXT:    addi a0, a1, 128
; RV32-NEXT:    vmv1r.v v0, v8
; RV32-NEXT:    addi a1, sp, 16
; RV32-NEXT:    vl8r.v v8, (a1) # Unknown-size Folded Reload
; RV32-NEXT:    vse64.v v8, (a0), v0.t
; RV32-NEXT:    csrr a0, vlenb
; RV32-NEXT:    slli a0, a0, 4
; RV32-NEXT:    add sp, sp, a0
; RV32-NEXT:    addi sp, sp, 16
; RV32-NEXT:    ret
;
; RV64-LABEL: masked_store_v32f64:
; RV64:       # %bb.0:
; RV64-NEXT:    addi sp, sp, -16
; RV64-NEXT:    csrr a3, vlenb
; RV64-NEXT:    slli a3, a3, 4
; RV64-NEXT:    sub sp, sp, a3
; RV64-NEXT:    vsetivli zero, 16, e64, m8, ta, ma
; RV64-NEXT:    vle64.v v8, (a2)
; RV64-NEXT:    addi a2, a2, 128
; RV64-NEXT:    vle64.v v16, (a2)
; RV64-NEXT:    csrr a2, vlenb
; RV64-NEXT:    slli a2, a2, 3
; RV64-NEXT:    add a2, sp, a2
; RV64-NEXT:    addi a2, a2, 16
; RV64-NEXT:    vs8r.v v16, (a2) # Unknown-size Folded Spill
; RV64-NEXT:    fmv.d.x fa5, zero
; RV64-NEXT:    vmfeq.vf v0, v8, fa5
; RV64-NEXT:    vle64.v v24, (a0)
; RV64-NEXT:    addi a0, a0, 128
; RV64-NEXT:    vle64.v v8, (a0)
; RV64-NEXT:    addi a0, sp, 16
; RV64-NEXT:    vs8r.v v8, (a0) # Unknown-size Folded Spill
; RV64-NEXT:    csrr a0, vlenb
; RV64-NEXT:    slli a0, a0, 3
; RV64-NEXT:    add a0, sp, a0
; RV64-NEXT:    addi a0, a0, 16
; RV64-NEXT:    vl8r.v v16, (a0) # Unknown-size Folded Reload
; RV64-NEXT:    vmfeq.vf v8, v16, fa5
; RV64-NEXT:    vse64.v v24, (a1), v0.t
; RV64-NEXT:    addi a0, a1, 128
; RV64-NEXT:    vmv1r.v v0, v8
; RV64-NEXT:    addi a1, sp, 16
; RV64-NEXT:    vl8r.v v8, (a1) # Unknown-size Folded Reload
; RV64-NEXT:    vse64.v v8, (a0), v0.t
; RV64-NEXT:    csrr a0, vlenb
; RV64-NEXT:    slli a0, a0, 4
; RV64-NEXT:    add sp, sp, a0
; RV64-NEXT:    addi sp, sp, 16
; RV64-NEXT:    ret
  %m = load <32 x double>, ptr %m_ptr
  %mask = fcmp oeq <32 x double> %m, zeroinitializer
  %val = load <32 x double>, ptr %val_ptr
  call void @llvm.masked.store.v32f32.p0v32f64(<32 x double> %val, ptr %a, i32 8, <32 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v32f32.p0v32f64(<32 x double>, ptr, i32, <32 x i1>)

define void @masked_store_v64bf16(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; RV32-LABEL: masked_store_v64bf16:
; RV32:       # %bb.0:
; RV32-NEXT:    addi sp, sp, -384
; RV32-NEXT:    sw ra, 380(sp) # 4-byte Folded Spill
; RV32-NEXT:    sw s0, 376(sp) # 4-byte Folded Spill
; RV32-NEXT:    addi s0, sp, 384
; RV32-NEXT:    andi sp, sp, -128
; RV32-NEXT:    li a3, 64
; RV32-NEXT:    vsetvli zero, a3, e16, m8, ta, ma
; RV32-NEXT:    vle16.v v8, (a2)
; RV32-NEXT:    addi a2, sp, 128
; RV32-NEXT:    vse16.v v8, (a2)
; RV32-NEXT:    lh a2, 192(sp)
; RV32-NEXT:    fmv.h.x fa5, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa5
; RV32-NEXT:    fmv.w.x fa5, zero
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 96(sp)
; RV32-NEXT:    lh a2, 190(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 95(sp)
; RV32-NEXT:    lh a2, 188(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 94(sp)
; RV32-NEXT:    lh a2, 186(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 93(sp)
; RV32-NEXT:    lh a2, 184(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 92(sp)
; RV32-NEXT:    lh a2, 182(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 91(sp)
; RV32-NEXT:    lh a2, 180(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 90(sp)
; RV32-NEXT:    lh a2, 178(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 89(sp)
; RV32-NEXT:    lh a2, 176(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 88(sp)
; RV32-NEXT:    lh a2, 174(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 87(sp)
; RV32-NEXT:    lh a2, 172(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 86(sp)
; RV32-NEXT:    lh a2, 170(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 85(sp)
; RV32-NEXT:    lh a2, 168(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 84(sp)
; RV32-NEXT:    lh a2, 166(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 83(sp)
; RV32-NEXT:    lh a2, 164(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 82(sp)
; RV32-NEXT:    lh a2, 162(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 81(sp)
; RV32-NEXT:    lh a2, 160(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    vmv.x.s a4, v8
; RV32-NEXT:    fmv.h.x fa4, a4
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a4, fa4, fa5
; RV32-NEXT:    sb a4, 64(sp)
; RV32-NEXT:    sb a2, 80(sp)
; RV32-NEXT:    lh a2, 226(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 113(sp)
; RV32-NEXT:    lh a2, 224(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 112(sp)
; RV32-NEXT:    lh a2, 222(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 111(sp)
; RV32-NEXT:    lh a2, 220(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 110(sp)
; RV32-NEXT:    lh a2, 218(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 109(sp)
; RV32-NEXT:    lh a2, 216(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 108(sp)
; RV32-NEXT:    lh a2, 214(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 107(sp)
; RV32-NEXT:    lh a2, 212(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 106(sp)
; RV32-NEXT:    lh a2, 210(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 105(sp)
; RV32-NEXT:    lh a2, 208(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 104(sp)
; RV32-NEXT:    lh a2, 206(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 103(sp)
; RV32-NEXT:    lh a2, 204(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 102(sp)
; RV32-NEXT:    lh a2, 202(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 101(sp)
; RV32-NEXT:    lh a2, 200(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 100(sp)
; RV32-NEXT:    lh a2, 198(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 99(sp)
; RV32-NEXT:    lh a2, 196(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 98(sp)
; RV32-NEXT:    lh a2, 194(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    vsetivli zero, 1, e16, m1, ta, ma
; RV32-NEXT:    vslidedown.vi v10, v8, 7
; RV32-NEXT:    vmv.x.s a4, v10
; RV32-NEXT:    fmv.h.x fa4, a4
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a4, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v8, 6
; RV32-NEXT:    vmv.x.s a5, v10
; RV32-NEXT:    fmv.h.x fa4, a5
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a5, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v8, 5
; RV32-NEXT:    vmv.x.s a6, v10
; RV32-NEXT:    fmv.h.x fa4, a6
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a6, fa4, fa5
; RV32-NEXT:    sb a6, 69(sp)
; RV32-NEXT:    sb a5, 70(sp)
; RV32-NEXT:    sb a4, 71(sp)
; RV32-NEXT:    sb a2, 97(sp)
; RV32-NEXT:    vslidedown.vi v10, v8, 4
; RV32-NEXT:    vmv.x.s a2, v10
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v8, 3
; RV32-NEXT:    vmv.x.s a4, v10
; RV32-NEXT:    fmv.h.x fa4, a4
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a4, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v8, 2
; RV32-NEXT:    vmv.x.s a5, v10
; RV32-NEXT:    fmv.h.x fa4, a5
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a5, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v8, 1
; RV32-NEXT:    vmv.x.s a6, v10
; RV32-NEXT:    fmv.h.x fa4, a6
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a6, fa4, fa5
; RV32-NEXT:    sb a6, 65(sp)
; RV32-NEXT:    sb a5, 66(sp)
; RV32-NEXT:    sb a4, 67(sp)
; RV32-NEXT:    sb a2, 68(sp)
; RV32-NEXT:    lh a2, 254(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 127(sp)
; RV32-NEXT:    lh a2, 252(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 126(sp)
; RV32-NEXT:    lh a2, 250(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 125(sp)
; RV32-NEXT:    lh a2, 248(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 124(sp)
; RV32-NEXT:    lh a2, 246(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 123(sp)
; RV32-NEXT:    lh a2, 244(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 122(sp)
; RV32-NEXT:    lh a2, 242(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 121(sp)
; RV32-NEXT:    lh a2, 240(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 120(sp)
; RV32-NEXT:    lh a2, 238(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 119(sp)
; RV32-NEXT:    lh a2, 236(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 118(sp)
; RV32-NEXT:    lh a2, 234(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 117(sp)
; RV32-NEXT:    lh a2, 232(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 116(sp)
; RV32-NEXT:    lh a2, 230(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 115(sp)
; RV32-NEXT:    lh a2, 228(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 114(sp)
; RV32-NEXT:    vsetivli zero, 1, e16, m2, ta, ma
; RV32-NEXT:    vslidedown.vi v10, v8, 15
; RV32-NEXT:    vmv.x.s a2, v10
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v8, 14
; RV32-NEXT:    vmv.x.s a4, v10
; RV32-NEXT:    fmv.h.x fa4, a4
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a4, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v8, 13
; RV32-NEXT:    vmv.x.s a5, v10
; RV32-NEXT:    fmv.h.x fa4, a5
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a5, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v8, 12
; RV32-NEXT:    vmv.x.s a6, v10
; RV32-NEXT:    fmv.h.x fa4, a6
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a6, fa4, fa5
; RV32-NEXT:    sb a6, 76(sp)
; RV32-NEXT:    sb a5, 77(sp)
; RV32-NEXT:    sb a4, 78(sp)
; RV32-NEXT:    sb a2, 79(sp)
; RV32-NEXT:    vslidedown.vi v10, v8, 11
; RV32-NEXT:    vmv.x.s a2, v10
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v8, 10
; RV32-NEXT:    vmv.x.s a4, v10
; RV32-NEXT:    fmv.h.x fa4, a4
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a4, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v8, 9
; RV32-NEXT:    vmv.x.s a5, v10
; RV32-NEXT:    fmv.h.x fa4, a5
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a5, fa4, fa5
; RV32-NEXT:    vslidedown.vi v8, v8, 8
; RV32-NEXT:    vmv.x.s a6, v8
; RV32-NEXT:    fmv.h.x fa4, a6
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a6, fa4, fa5
; RV32-NEXT:    sb a6, 72(sp)
; RV32-NEXT:    sb a5, 73(sp)
; RV32-NEXT:    sb a4, 74(sp)
; RV32-NEXT:    sb a2, 75(sp)
; RV32-NEXT:    addi a2, sp, 64
; RV32-NEXT:    vsetvli zero, a3, e8, m4, ta, ma
; RV32-NEXT:    vle8.v v8, (a2)
; RV32-NEXT:    vle16.v v16, (a0)
; RV32-NEXT:    vand.vi v8, v8, 1
; RV32-NEXT:    vmsne.vi v0, v8, 0
; RV32-NEXT:    vse16.v v16, (a1), v0.t
; RV32-NEXT:    addi sp, s0, -384
; RV32-NEXT:    lw ra, 380(sp) # 4-byte Folded Reload
; RV32-NEXT:    lw s0, 376(sp) # 4-byte Folded Reload
; RV32-NEXT:    addi sp, sp, 384
; RV32-NEXT:    ret
;
; RV64-LABEL: masked_store_v64bf16:
; RV64:       # %bb.0:
; RV64-NEXT:    addi sp, sp, -384
; RV64-NEXT:    sd ra, 376(sp) # 8-byte Folded Spill
; RV64-NEXT:    sd s0, 368(sp) # 8-byte Folded Spill
; RV64-NEXT:    addi s0, sp, 384
; RV64-NEXT:    andi sp, sp, -128
; RV64-NEXT:    li a3, 64
; RV64-NEXT:    vsetvli zero, a3, e16, m8, ta, ma
; RV64-NEXT:    vle16.v v8, (a2)
; RV64-NEXT:    addi a2, sp, 128
; RV64-NEXT:    vse16.v v8, (a2)
; RV64-NEXT:    lh a2, 192(sp)
; RV64-NEXT:    fmv.h.x fa5, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa5
; RV64-NEXT:    fmv.w.x fa5, zero
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 96(sp)
; RV64-NEXT:    lh a2, 190(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 95(sp)
; RV64-NEXT:    lh a2, 188(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 94(sp)
; RV64-NEXT:    lh a2, 186(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 93(sp)
; RV64-NEXT:    lh a2, 184(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 92(sp)
; RV64-NEXT:    lh a2, 182(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 91(sp)
; RV64-NEXT:    lh a2, 180(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 90(sp)
; RV64-NEXT:    lh a2, 178(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 89(sp)
; RV64-NEXT:    lh a2, 176(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 88(sp)
; RV64-NEXT:    lh a2, 174(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 87(sp)
; RV64-NEXT:    lh a2, 172(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 86(sp)
; RV64-NEXT:    lh a2, 170(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 85(sp)
; RV64-NEXT:    lh a2, 168(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 84(sp)
; RV64-NEXT:    lh a2, 166(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 83(sp)
; RV64-NEXT:    lh a2, 164(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 82(sp)
; RV64-NEXT:    lh a2, 162(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 81(sp)
; RV64-NEXT:    lh a2, 160(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    vmv.x.s a4, v8
; RV64-NEXT:    fmv.h.x fa4, a4
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a4, fa4, fa5
; RV64-NEXT:    sb a4, 64(sp)
; RV64-NEXT:    sb a2, 80(sp)
; RV64-NEXT:    lh a2, 226(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 113(sp)
; RV64-NEXT:    lh a2, 224(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 112(sp)
; RV64-NEXT:    lh a2, 222(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 111(sp)
; RV64-NEXT:    lh a2, 220(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 110(sp)
; RV64-NEXT:    lh a2, 218(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 109(sp)
; RV64-NEXT:    lh a2, 216(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 108(sp)
; RV64-NEXT:    lh a2, 214(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 107(sp)
; RV64-NEXT:    lh a2, 212(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 106(sp)
; RV64-NEXT:    lh a2, 210(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 105(sp)
; RV64-NEXT:    lh a2, 208(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 104(sp)
; RV64-NEXT:    lh a2, 206(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 103(sp)
; RV64-NEXT:    lh a2, 204(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 102(sp)
; RV64-NEXT:    lh a2, 202(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 101(sp)
; RV64-NEXT:    lh a2, 200(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 100(sp)
; RV64-NEXT:    lh a2, 198(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 99(sp)
; RV64-NEXT:    lh a2, 196(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 98(sp)
; RV64-NEXT:    lh a2, 194(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    vsetivli zero, 1, e16, m1, ta, ma
; RV64-NEXT:    vslidedown.vi v10, v8, 7
; RV64-NEXT:    vmv.x.s a4, v10
; RV64-NEXT:    fmv.h.x fa4, a4
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a4, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v8, 6
; RV64-NEXT:    vmv.x.s a5, v10
; RV64-NEXT:    fmv.h.x fa4, a5
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a5, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v8, 5
; RV64-NEXT:    vmv.x.s a6, v10
; RV64-NEXT:    fmv.h.x fa4, a6
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a6, fa4, fa5
; RV64-NEXT:    sb a6, 69(sp)
; RV64-NEXT:    sb a5, 70(sp)
; RV64-NEXT:    sb a4, 71(sp)
; RV64-NEXT:    sb a2, 97(sp)
; RV64-NEXT:    vslidedown.vi v10, v8, 4
; RV64-NEXT:    vmv.x.s a2, v10
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v8, 3
; RV64-NEXT:    vmv.x.s a4, v10
; RV64-NEXT:    fmv.h.x fa4, a4
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a4, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v8, 2
; RV64-NEXT:    vmv.x.s a5, v10
; RV64-NEXT:    fmv.h.x fa4, a5
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a5, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v8, 1
; RV64-NEXT:    vmv.x.s a6, v10
; RV64-NEXT:    fmv.h.x fa4, a6
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a6, fa4, fa5
; RV64-NEXT:    sb a6, 65(sp)
; RV64-NEXT:    sb a5, 66(sp)
; RV64-NEXT:    sb a4, 67(sp)
; RV64-NEXT:    sb a2, 68(sp)
; RV64-NEXT:    lh a2, 254(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 127(sp)
; RV64-NEXT:    lh a2, 252(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 126(sp)
; RV64-NEXT:    lh a2, 250(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 125(sp)
; RV64-NEXT:    lh a2, 248(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 124(sp)
; RV64-NEXT:    lh a2, 246(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 123(sp)
; RV64-NEXT:    lh a2, 244(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 122(sp)
; RV64-NEXT:    lh a2, 242(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 121(sp)
; RV64-NEXT:    lh a2, 240(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 120(sp)
; RV64-NEXT:    lh a2, 238(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 119(sp)
; RV64-NEXT:    lh a2, 236(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 118(sp)
; RV64-NEXT:    lh a2, 234(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 117(sp)
; RV64-NEXT:    lh a2, 232(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 116(sp)
; RV64-NEXT:    lh a2, 230(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 115(sp)
; RV64-NEXT:    lh a2, 228(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 114(sp)
; RV64-NEXT:    vsetivli zero, 1, e16, m2, ta, ma
; RV64-NEXT:    vslidedown.vi v10, v8, 15
; RV64-NEXT:    vmv.x.s a2, v10
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v8, 14
; RV64-NEXT:    vmv.x.s a4, v10
; RV64-NEXT:    fmv.h.x fa4, a4
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a4, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v8, 13
; RV64-NEXT:    vmv.x.s a5, v10
; RV64-NEXT:    fmv.h.x fa4, a5
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a5, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v8, 12
; RV64-NEXT:    vmv.x.s a6, v10
; RV64-NEXT:    fmv.h.x fa4, a6
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a6, fa4, fa5
; RV64-NEXT:    sb a6, 76(sp)
; RV64-NEXT:    sb a5, 77(sp)
; RV64-NEXT:    sb a4, 78(sp)
; RV64-NEXT:    sb a2, 79(sp)
; RV64-NEXT:    vslidedown.vi v10, v8, 11
; RV64-NEXT:    vmv.x.s a2, v10
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v8, 10
; RV64-NEXT:    vmv.x.s a4, v10
; RV64-NEXT:    fmv.h.x fa4, a4
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a4, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v8, 9
; RV64-NEXT:    vmv.x.s a5, v10
; RV64-NEXT:    fmv.h.x fa4, a5
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a5, fa4, fa5
; RV64-NEXT:    vslidedown.vi v8, v8, 8
; RV64-NEXT:    vmv.x.s a6, v8
; RV64-NEXT:    fmv.h.x fa4, a6
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a6, fa4, fa5
; RV64-NEXT:    sb a6, 72(sp)
; RV64-NEXT:    sb a5, 73(sp)
; RV64-NEXT:    sb a4, 74(sp)
; RV64-NEXT:    sb a2, 75(sp)
; RV64-NEXT:    addi a2, sp, 64
; RV64-NEXT:    vsetvli zero, a3, e8, m4, ta, ma
; RV64-NEXT:    vle8.v v8, (a2)
; RV64-NEXT:    vle16.v v16, (a0)
; RV64-NEXT:    vand.vi v8, v8, 1
; RV64-NEXT:    vmsne.vi v0, v8, 0
; RV64-NEXT:    vse16.v v16, (a1), v0.t
; RV64-NEXT:    addi sp, s0, -384
; RV64-NEXT:    ld ra, 376(sp) # 8-byte Folded Reload
; RV64-NEXT:    ld s0, 368(sp) # 8-byte Folded Reload
; RV64-NEXT:    addi sp, sp, 384
; RV64-NEXT:    ret
  %m = load <64 x bfloat>, ptr %m_ptr
  %mask = fcmp oeq <64 x bfloat> %m, zeroinitializer
  %val = load <64 x bfloat>, ptr %val_ptr
  call void @llvm.masked.store.v64bf16.p0v64bf16(<64 x bfloat> %val, ptr %a, i32 8, <64 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v64bf16.p0v64bf16(<64 x bfloat>, ptr, i32, <64 x i1>)

define void @masked_store_v64f16(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; ZVFH-LABEL: masked_store_v64f16:
; ZVFH:       # %bb.0:
; ZVFH-NEXT:    li a3, 64
; ZVFH-NEXT:    vsetvli zero, a3, e16, m8, ta, ma
; ZVFH-NEXT:    vle16.v v8, (a2)
; ZVFH-NEXT:    vle16.v v16, (a0)
; ZVFH-NEXT:    fmv.h.x fa5, zero
; ZVFH-NEXT:    vmfeq.vf v0, v8, fa5
; ZVFH-NEXT:    vse16.v v16, (a1), v0.t
; ZVFH-NEXT:    ret
;
; RV32-ZVFHMIN-LABEL: masked_store_v64f16:
; RV32-ZVFHMIN:       # %bb.0:
; RV32-ZVFHMIN-NEXT:    addi sp, sp, -384
; RV32-ZVFHMIN-NEXT:    sw ra, 380(sp) # 4-byte Folded Spill
; RV32-ZVFHMIN-NEXT:    sw s0, 376(sp) # 4-byte Folded Spill
; RV32-ZVFHMIN-NEXT:    addi s0, sp, 384
; RV32-ZVFHMIN-NEXT:    andi sp, sp, -128
; RV32-ZVFHMIN-NEXT:    li a3, 64
; RV32-ZVFHMIN-NEXT:    vsetvli zero, a3, e16, m8, ta, ma
; RV32-ZVFHMIN-NEXT:    vle16.v v8, (a2)
; RV32-ZVFHMIN-NEXT:    addi a2, sp, 128
; RV32-ZVFHMIN-NEXT:    vse16.v v8, (a2)
; RV32-ZVFHMIN-NEXT:    lh a2, 192(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa5, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa5
; RV32-ZVFHMIN-NEXT:    fmv.w.x fa5, zero
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 96(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 190(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 95(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 188(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 94(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 186(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 93(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 184(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 92(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 182(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 91(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 180(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 90(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 178(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 89(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 176(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 88(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 174(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 87(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 172(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 86(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 170(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 85(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 168(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 84(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 166(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 83(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 164(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 82(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 162(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 81(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 160(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vmv.x.s a4, v8
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a4, 64(sp)
; RV32-ZVFHMIN-NEXT:    sb a2, 80(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 226(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 113(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 224(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 112(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 222(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 111(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 220(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 110(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 218(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 109(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 216(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 108(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 214(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 107(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 212(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 106(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 210(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 105(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 208(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 104(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 206(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 103(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 204(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 102(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 202(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 101(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 200(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 100(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 198(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 99(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 196(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 98(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 194(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vsetivli zero, 1, e16, m1, ta, ma
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 7
; RV32-ZVFHMIN-NEXT:    vmv.x.s a4, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 6
; RV32-ZVFHMIN-NEXT:    vmv.x.s a5, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a5
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a5, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 5
; RV32-ZVFHMIN-NEXT:    vmv.x.s a6, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a6
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a6, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a6, 69(sp)
; RV32-ZVFHMIN-NEXT:    sb a5, 70(sp)
; RV32-ZVFHMIN-NEXT:    sb a4, 71(sp)
; RV32-ZVFHMIN-NEXT:    sb a2, 97(sp)
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 4
; RV32-ZVFHMIN-NEXT:    vmv.x.s a2, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 3
; RV32-ZVFHMIN-NEXT:    vmv.x.s a4, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 2
; RV32-ZVFHMIN-NEXT:    vmv.x.s a5, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a5
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a5, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 1
; RV32-ZVFHMIN-NEXT:    vmv.x.s a6, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a6
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a6, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a6, 65(sp)
; RV32-ZVFHMIN-NEXT:    sb a5, 66(sp)
; RV32-ZVFHMIN-NEXT:    sb a4, 67(sp)
; RV32-ZVFHMIN-NEXT:    sb a2, 68(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 254(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 127(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 252(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 126(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 250(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 125(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 248(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 124(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 246(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 123(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 244(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 122(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 242(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 121(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 240(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 120(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 238(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 119(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 236(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 118(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 234(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 117(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 232(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 116(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 230(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 115(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 228(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 114(sp)
; RV32-ZVFHMIN-NEXT:    vsetivli zero, 1, e16, m2, ta, ma
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 15
; RV32-ZVFHMIN-NEXT:    vmv.x.s a2, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 14
; RV32-ZVFHMIN-NEXT:    vmv.x.s a4, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 13
; RV32-ZVFHMIN-NEXT:    vmv.x.s a5, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a5
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a5, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 12
; RV32-ZVFHMIN-NEXT:    vmv.x.s a6, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a6
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a6, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a6, 76(sp)
; RV32-ZVFHMIN-NEXT:    sb a5, 77(sp)
; RV32-ZVFHMIN-NEXT:    sb a4, 78(sp)
; RV32-ZVFHMIN-NEXT:    sb a2, 79(sp)
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 11
; RV32-ZVFHMIN-NEXT:    vmv.x.s a2, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 10
; RV32-ZVFHMIN-NEXT:    vmv.x.s a4, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 9
; RV32-ZVFHMIN-NEXT:    vmv.x.s a5, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a5
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a5, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v8, v8, 8
; RV32-ZVFHMIN-NEXT:    vmv.x.s a6, v8
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a6
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a6, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a6, 72(sp)
; RV32-ZVFHMIN-NEXT:    sb a5, 73(sp)
; RV32-ZVFHMIN-NEXT:    sb a4, 74(sp)
; RV32-ZVFHMIN-NEXT:    sb a2, 75(sp)
; RV32-ZVFHMIN-NEXT:    addi a2, sp, 64
; RV32-ZVFHMIN-NEXT:    vsetvli zero, a3, e8, m4, ta, ma
; RV32-ZVFHMIN-NEXT:    vle8.v v8, (a2)
; RV32-ZVFHMIN-NEXT:    vle16.v v16, (a0)
; RV32-ZVFHMIN-NEXT:    vand.vi v8, v8, 1
; RV32-ZVFHMIN-NEXT:    vmsne.vi v0, v8, 0
; RV32-ZVFHMIN-NEXT:    vse16.v v16, (a1), v0.t
; RV32-ZVFHMIN-NEXT:    addi sp, s0, -384
; RV32-ZVFHMIN-NEXT:    lw ra, 380(sp) # 4-byte Folded Reload
; RV32-ZVFHMIN-NEXT:    lw s0, 376(sp) # 4-byte Folded Reload
; RV32-ZVFHMIN-NEXT:    addi sp, sp, 384
; RV32-ZVFHMIN-NEXT:    ret
;
; RV64-ZVFHMIN-LABEL: masked_store_v64f16:
; RV64-ZVFHMIN:       # %bb.0:
; RV64-ZVFHMIN-NEXT:    addi sp, sp, -384
; RV64-ZVFHMIN-NEXT:    sd ra, 376(sp) # 8-byte Folded Spill
; RV64-ZVFHMIN-NEXT:    sd s0, 368(sp) # 8-byte Folded Spill
; RV64-ZVFHMIN-NEXT:    addi s0, sp, 384
; RV64-ZVFHMIN-NEXT:    andi sp, sp, -128
; RV64-ZVFHMIN-NEXT:    li a3, 64
; RV64-ZVFHMIN-NEXT:    vsetvli zero, a3, e16, m8, ta, ma
; RV64-ZVFHMIN-NEXT:    vle16.v v8, (a2)
; RV64-ZVFHMIN-NEXT:    addi a2, sp, 128
; RV64-ZVFHMIN-NEXT:    vse16.v v8, (a2)
; RV64-ZVFHMIN-NEXT:    lh a2, 192(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa5, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa5
; RV64-ZVFHMIN-NEXT:    fmv.w.x fa5, zero
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 96(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 190(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 95(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 188(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 94(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 186(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 93(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 184(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 92(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 182(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 91(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 180(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 90(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 178(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 89(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 176(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 88(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 174(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 87(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 172(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 86(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 170(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 85(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 168(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 84(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 166(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 83(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 164(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 82(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 162(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 81(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 160(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vmv.x.s a4, v8
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a4, 64(sp)
; RV64-ZVFHMIN-NEXT:    sb a2, 80(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 226(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 113(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 224(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 112(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 222(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 111(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 220(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 110(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 218(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 109(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 216(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 108(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 214(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 107(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 212(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 106(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 210(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 105(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 208(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 104(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 206(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 103(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 204(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 102(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 202(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 101(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 200(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 100(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 198(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 99(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 196(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 98(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 194(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vsetivli zero, 1, e16, m1, ta, ma
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 7
; RV64-ZVFHMIN-NEXT:    vmv.x.s a4, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 6
; RV64-ZVFHMIN-NEXT:    vmv.x.s a5, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a5
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a5, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 5
; RV64-ZVFHMIN-NEXT:    vmv.x.s a6, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a6
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a6, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a6, 69(sp)
; RV64-ZVFHMIN-NEXT:    sb a5, 70(sp)
; RV64-ZVFHMIN-NEXT:    sb a4, 71(sp)
; RV64-ZVFHMIN-NEXT:    sb a2, 97(sp)
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 4
; RV64-ZVFHMIN-NEXT:    vmv.x.s a2, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 3
; RV64-ZVFHMIN-NEXT:    vmv.x.s a4, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 2
; RV64-ZVFHMIN-NEXT:    vmv.x.s a5, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a5
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a5, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 1
; RV64-ZVFHMIN-NEXT:    vmv.x.s a6, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a6
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a6, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a6, 65(sp)
; RV64-ZVFHMIN-NEXT:    sb a5, 66(sp)
; RV64-ZVFHMIN-NEXT:    sb a4, 67(sp)
; RV64-ZVFHMIN-NEXT:    sb a2, 68(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 254(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 127(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 252(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 126(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 250(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 125(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 248(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 124(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 246(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 123(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 244(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 122(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 242(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 121(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 240(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 120(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 238(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 119(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 236(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 118(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 234(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 117(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 232(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 116(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 230(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 115(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 228(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 114(sp)
; RV64-ZVFHMIN-NEXT:    vsetivli zero, 1, e16, m2, ta, ma
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 15
; RV64-ZVFHMIN-NEXT:    vmv.x.s a2, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 14
; RV64-ZVFHMIN-NEXT:    vmv.x.s a4, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 13
; RV64-ZVFHMIN-NEXT:    vmv.x.s a5, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a5
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a5, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 12
; RV64-ZVFHMIN-NEXT:    vmv.x.s a6, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a6
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a6, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a6, 76(sp)
; RV64-ZVFHMIN-NEXT:    sb a5, 77(sp)
; RV64-ZVFHMIN-NEXT:    sb a4, 78(sp)
; RV64-ZVFHMIN-NEXT:    sb a2, 79(sp)
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 11
; RV64-ZVFHMIN-NEXT:    vmv.x.s a2, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 10
; RV64-ZVFHMIN-NEXT:    vmv.x.s a4, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 9
; RV64-ZVFHMIN-NEXT:    vmv.x.s a5, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a5
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a5, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v8, v8, 8
; RV64-ZVFHMIN-NEXT:    vmv.x.s a6, v8
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a6
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a6, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a6, 72(sp)
; RV64-ZVFHMIN-NEXT:    sb a5, 73(sp)
; RV64-ZVFHMIN-NEXT:    sb a4, 74(sp)
; RV64-ZVFHMIN-NEXT:    sb a2, 75(sp)
; RV64-ZVFHMIN-NEXT:    addi a2, sp, 64
; RV64-ZVFHMIN-NEXT:    vsetvli zero, a3, e8, m4, ta, ma
; RV64-ZVFHMIN-NEXT:    vle8.v v8, (a2)
; RV64-ZVFHMIN-NEXT:    vle16.v v16, (a0)
; RV64-ZVFHMIN-NEXT:    vand.vi v8, v8, 1
; RV64-ZVFHMIN-NEXT:    vmsne.vi v0, v8, 0
; RV64-ZVFHMIN-NEXT:    vse16.v v16, (a1), v0.t
; RV64-ZVFHMIN-NEXT:    addi sp, s0, -384
; RV64-ZVFHMIN-NEXT:    ld ra, 376(sp) # 8-byte Folded Reload
; RV64-ZVFHMIN-NEXT:    ld s0, 368(sp) # 8-byte Folded Reload
; RV64-ZVFHMIN-NEXT:    addi sp, sp, 384
; RV64-ZVFHMIN-NEXT:    ret
  %m = load <64 x half>, ptr %m_ptr
  %mask = fcmp oeq <64 x half> %m, zeroinitializer
  %val = load <64 x half>, ptr %val_ptr
  call void @llvm.masked.store.v64f16.p0v64f16(<64 x half> %val, ptr %a, i32 8, <64 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v64f16.p0v64f16(<64 x half>, ptr, i32, <64 x i1>)

define void @masked_store_v64f32(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; CHECK-LABEL: masked_store_v64f32:
; CHECK:       # %bb.0:
; CHECK-NEXT:    addi sp, sp, -16
; CHECK-NEXT:    csrr a3, vlenb
; CHECK-NEXT:    slli a3, a3, 4
; CHECK-NEXT:    sub sp, sp, a3
; CHECK-NEXT:    li a3, 32
; CHECK-NEXT:    vsetvli zero, a3, e32, m8, ta, ma
; CHECK-NEXT:    vle32.v v8, (a2)
; CHECK-NEXT:    addi a2, a2, 128
; CHECK-NEXT:    vle32.v v16, (a2)
; CHECK-NEXT:    csrr a2, vlenb
; CHECK-NEXT:    slli a2, a2, 3
; CHECK-NEXT:    add a2, sp, a2
; CHECK-NEXT:    addi a2, a2, 16
; CHECK-NEXT:    vs8r.v v16, (a2) # Unknown-size Folded Spill
; CHECK-NEXT:    fmv.w.x fa5, zero
; CHECK-NEXT:    vmfeq.vf v0, v8, fa5
; CHECK-NEXT:    vle32.v v24, (a0)
; CHECK-NEXT:    addi a0, a0, 128
; CHECK-NEXT:    vle32.v v8, (a0)
; CHECK-NEXT:    addi a0, sp, 16
; CHECK-NEXT:    vs8r.v v8, (a0) # Unknown-size Folded Spill
; CHECK-NEXT:    csrr a0, vlenb
; CHECK-NEXT:    slli a0, a0, 3
; CHECK-NEXT:    add a0, sp, a0
; CHECK-NEXT:    addi a0, a0, 16
; CHECK-NEXT:    vl8r.v v16, (a0) # Unknown-size Folded Reload
; CHECK-NEXT:    vmfeq.vf v8, v16, fa5
; CHECK-NEXT:    vse32.v v24, (a1), v0.t
; CHECK-NEXT:    addi a0, a1, 128
; CHECK-NEXT:    vmv1r.v v0, v8
; CHECK-NEXT:    addi a1, sp, 16
; CHECK-NEXT:    vl8r.v v8, (a1) # Unknown-size Folded Reload
; CHECK-NEXT:    vse32.v v8, (a0), v0.t
; CHECK-NEXT:    csrr a0, vlenb
; CHECK-NEXT:    slli a0, a0, 4
; CHECK-NEXT:    add sp, sp, a0
; CHECK-NEXT:    addi sp, sp, 16
; CHECK-NEXT:    ret
  %m = load <64 x float>, ptr %m_ptr
  %mask = fcmp oeq <64 x float> %m, zeroinitializer
  %val = load <64 x float>, ptr %val_ptr
  call void @llvm.masked.store.v64f16.p0v64f32(<64 x float> %val, ptr %a, i32 8, <64 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v64f16.p0v64f32(<64 x float>, ptr, i32, <64 x i1>)

define void @masked_store_v128bf16(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; RV32-LABEL: masked_store_v128bf16:
; RV32:       # %bb.0:
; RV32-NEXT:    addi sp, sp, -512
; RV32-NEXT:    sw ra, 508(sp) # 4-byte Folded Spill
; RV32-NEXT:    sw s0, 504(sp) # 4-byte Folded Spill
; RV32-NEXT:    addi s0, sp, 512
; RV32-NEXT:    andi sp, sp, -128
; RV32-NEXT:    li a3, 64
; RV32-NEXT:    addi a4, a2, 128
; RV32-NEXT:    vsetvli zero, a3, e16, m8, ta, ma
; RV32-NEXT:    vle16.v v16, (a4)
; RV32-NEXT:    vle16.v v8, (a2)
; RV32-NEXT:    addi a2, sp, 128
; RV32-NEXT:    vse16.v v16, (a2)
; RV32-NEXT:    addi a2, sp, 256
; RV32-NEXT:    vse16.v v8, (a2)
; RV32-NEXT:    lh a2, 192(sp)
; RV32-NEXT:    fmv.h.x fa5, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa5
; RV32-NEXT:    fmv.w.x fa5, zero
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 32(sp)
; RV32-NEXT:    lh a2, 190(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 31(sp)
; RV32-NEXT:    lh a2, 188(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 30(sp)
; RV32-NEXT:    lh a2, 186(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 29(sp)
; RV32-NEXT:    lh a2, 184(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 28(sp)
; RV32-NEXT:    lh a2, 182(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 27(sp)
; RV32-NEXT:    lh a2, 180(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 26(sp)
; RV32-NEXT:    lh a2, 178(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 25(sp)
; RV32-NEXT:    lh a2, 176(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 24(sp)
; RV32-NEXT:    lh a2, 174(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 23(sp)
; RV32-NEXT:    lh a2, 172(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 22(sp)
; RV32-NEXT:    lh a2, 170(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 21(sp)
; RV32-NEXT:    lh a2, 168(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 20(sp)
; RV32-NEXT:    lh a2, 166(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 19(sp)
; RV32-NEXT:    lh a2, 164(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 18(sp)
; RV32-NEXT:    lh a2, 162(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 17(sp)
; RV32-NEXT:    lh a2, 160(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    vmv.x.s a4, v16
; RV32-NEXT:    fmv.h.x fa4, a4
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a4, fa4, fa5
; RV32-NEXT:    sb a4, 0(sp)
; RV32-NEXT:    sb a2, 16(sp)
; RV32-NEXT:    lh a2, 226(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 49(sp)
; RV32-NEXT:    lh a2, 224(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 48(sp)
; RV32-NEXT:    lh a2, 222(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 47(sp)
; RV32-NEXT:    lh a2, 220(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 46(sp)
; RV32-NEXT:    lh a2, 218(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 45(sp)
; RV32-NEXT:    lh a2, 216(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 44(sp)
; RV32-NEXT:    lh a2, 214(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 43(sp)
; RV32-NEXT:    lh a2, 212(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 42(sp)
; RV32-NEXT:    lh a2, 210(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 41(sp)
; RV32-NEXT:    lh a2, 208(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 40(sp)
; RV32-NEXT:    lh a2, 206(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 39(sp)
; RV32-NEXT:    lh a2, 204(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 38(sp)
; RV32-NEXT:    lh a2, 202(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 37(sp)
; RV32-NEXT:    lh a2, 200(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 36(sp)
; RV32-NEXT:    lh a2, 198(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 35(sp)
; RV32-NEXT:    lh a2, 196(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 34(sp)
; RV32-NEXT:    lh a2, 194(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    vsetivli zero, 1, e16, m1, ta, ma
; RV32-NEXT:    vslidedown.vi v10, v16, 7
; RV32-NEXT:    vmv.x.s a4, v10
; RV32-NEXT:    fmv.h.x fa4, a4
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a4, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v16, 6
; RV32-NEXT:    vmv.x.s a5, v10
; RV32-NEXT:    fmv.h.x fa4, a5
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a5, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v16, 5
; RV32-NEXT:    vmv.x.s a6, v10
; RV32-NEXT:    fmv.h.x fa4, a6
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a6, fa4, fa5
; RV32-NEXT:    sb a6, 5(sp)
; RV32-NEXT:    sb a5, 6(sp)
; RV32-NEXT:    sb a4, 7(sp)
; RV32-NEXT:    sb a2, 33(sp)
; RV32-NEXT:    vslidedown.vi v10, v16, 4
; RV32-NEXT:    vmv.x.s a2, v10
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v16, 3
; RV32-NEXT:    vmv.x.s a4, v10
; RV32-NEXT:    fmv.h.x fa4, a4
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a4, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v16, 2
; RV32-NEXT:    vmv.x.s a5, v10
; RV32-NEXT:    fmv.h.x fa4, a5
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a5, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v16, 1
; RV32-NEXT:    vmv.x.s a6, v10
; RV32-NEXT:    fmv.h.x fa4, a6
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a6, fa4, fa5
; RV32-NEXT:    sb a6, 1(sp)
; RV32-NEXT:    sb a5, 2(sp)
; RV32-NEXT:    sb a4, 3(sp)
; RV32-NEXT:    sb a2, 4(sp)
; RV32-NEXT:    lh a2, 254(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 63(sp)
; RV32-NEXT:    lh a2, 252(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 62(sp)
; RV32-NEXT:    lh a2, 250(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 61(sp)
; RV32-NEXT:    lh a2, 248(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 60(sp)
; RV32-NEXT:    lh a2, 246(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 59(sp)
; RV32-NEXT:    lh a2, 244(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 58(sp)
; RV32-NEXT:    lh a2, 242(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 57(sp)
; RV32-NEXT:    lh a2, 240(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 56(sp)
; RV32-NEXT:    lh a2, 238(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 55(sp)
; RV32-NEXT:    lh a2, 236(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 54(sp)
; RV32-NEXT:    lh a2, 234(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 53(sp)
; RV32-NEXT:    lh a2, 232(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 52(sp)
; RV32-NEXT:    lh a2, 230(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 51(sp)
; RV32-NEXT:    lh a2, 228(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 50(sp)
; RV32-NEXT:    vsetivli zero, 1, e16, m2, ta, ma
; RV32-NEXT:    vslidedown.vi v10, v16, 15
; RV32-NEXT:    vmv.x.s a2, v10
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v16, 14
; RV32-NEXT:    vmv.x.s a4, v10
; RV32-NEXT:    fmv.h.x fa4, a4
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a4, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v16, 13
; RV32-NEXT:    vmv.x.s a5, v10
; RV32-NEXT:    fmv.h.x fa4, a5
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a5, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v16, 12
; RV32-NEXT:    vmv.x.s a6, v10
; RV32-NEXT:    fmv.h.x fa4, a6
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a6, fa4, fa5
; RV32-NEXT:    sb a6, 12(sp)
; RV32-NEXT:    sb a5, 13(sp)
; RV32-NEXT:    sb a4, 14(sp)
; RV32-NEXT:    sb a2, 15(sp)
; RV32-NEXT:    vslidedown.vi v10, v16, 11
; RV32-NEXT:    vmv.x.s a2, v10
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v16, 10
; RV32-NEXT:    vmv.x.s a4, v10
; RV32-NEXT:    fmv.h.x fa4, a4
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a4, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v16, 9
; RV32-NEXT:    vmv.x.s a5, v10
; RV32-NEXT:    fmv.h.x fa4, a5
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a5, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v16, 8
; RV32-NEXT:    vmv.x.s a6, v10
; RV32-NEXT:    fmv.h.x fa4, a6
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a6, fa4, fa5
; RV32-NEXT:    sb a6, 8(sp)
; RV32-NEXT:    sb a5, 9(sp)
; RV32-NEXT:    sb a4, 10(sp)
; RV32-NEXT:    sb a2, 11(sp)
; RV32-NEXT:    lh a2, 320(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 96(sp)
; RV32-NEXT:    lh a2, 318(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 95(sp)
; RV32-NEXT:    lh a2, 316(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 94(sp)
; RV32-NEXT:    lh a2, 314(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 93(sp)
; RV32-NEXT:    lh a2, 312(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 92(sp)
; RV32-NEXT:    lh a2, 310(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 91(sp)
; RV32-NEXT:    lh a2, 308(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 90(sp)
; RV32-NEXT:    lh a2, 306(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 89(sp)
; RV32-NEXT:    lh a2, 304(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 88(sp)
; RV32-NEXT:    lh a2, 302(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 87(sp)
; RV32-NEXT:    lh a2, 300(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 86(sp)
; RV32-NEXT:    lh a2, 298(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 85(sp)
; RV32-NEXT:    lh a2, 296(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 84(sp)
; RV32-NEXT:    lh a2, 294(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 83(sp)
; RV32-NEXT:    lh a2, 292(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 82(sp)
; RV32-NEXT:    lh a2, 290(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 81(sp)
; RV32-NEXT:    lh a2, 288(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    vmv.x.s a4, v8
; RV32-NEXT:    fmv.h.x fa4, a4
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a4, fa4, fa5
; RV32-NEXT:    sb a4, 64(sp)
; RV32-NEXT:    sb a2, 80(sp)
; RV32-NEXT:    lh a2, 354(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 113(sp)
; RV32-NEXT:    lh a2, 352(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 112(sp)
; RV32-NEXT:    lh a2, 350(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 111(sp)
; RV32-NEXT:    lh a2, 348(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 110(sp)
; RV32-NEXT:    lh a2, 346(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 109(sp)
; RV32-NEXT:    lh a2, 344(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 108(sp)
; RV32-NEXT:    lh a2, 342(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 107(sp)
; RV32-NEXT:    lh a2, 340(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 106(sp)
; RV32-NEXT:    lh a2, 338(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 105(sp)
; RV32-NEXT:    lh a2, 336(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 104(sp)
; RV32-NEXT:    lh a2, 334(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 103(sp)
; RV32-NEXT:    lh a2, 332(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 102(sp)
; RV32-NEXT:    lh a2, 330(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 101(sp)
; RV32-NEXT:    lh a2, 328(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 100(sp)
; RV32-NEXT:    lh a2, 326(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 99(sp)
; RV32-NEXT:    lh a2, 324(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 98(sp)
; RV32-NEXT:    lh a2, 322(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    vsetivli zero, 1, e16, m1, ta, ma
; RV32-NEXT:    vslidedown.vi v10, v8, 7
; RV32-NEXT:    vmv.x.s a4, v10
; RV32-NEXT:    fmv.h.x fa4, a4
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a4, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v8, 6
; RV32-NEXT:    vmv.x.s a5, v10
; RV32-NEXT:    fmv.h.x fa4, a5
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a5, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v8, 5
; RV32-NEXT:    vmv.x.s a6, v10
; RV32-NEXT:    fmv.h.x fa4, a6
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a6, fa4, fa5
; RV32-NEXT:    sb a6, 69(sp)
; RV32-NEXT:    sb a5, 70(sp)
; RV32-NEXT:    sb a4, 71(sp)
; RV32-NEXT:    sb a2, 97(sp)
; RV32-NEXT:    vslidedown.vi v10, v8, 4
; RV32-NEXT:    vmv.x.s a2, v10
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v8, 3
; RV32-NEXT:    vmv.x.s a4, v10
; RV32-NEXT:    fmv.h.x fa4, a4
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a4, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v8, 2
; RV32-NEXT:    vmv.x.s a5, v10
; RV32-NEXT:    fmv.h.x fa4, a5
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a5, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v8, 1
; RV32-NEXT:    vmv.x.s a6, v10
; RV32-NEXT:    fmv.h.x fa4, a6
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a6, fa4, fa5
; RV32-NEXT:    sb a6, 65(sp)
; RV32-NEXT:    sb a5, 66(sp)
; RV32-NEXT:    sb a4, 67(sp)
; RV32-NEXT:    sb a2, 68(sp)
; RV32-NEXT:    lh a2, 382(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 127(sp)
; RV32-NEXT:    lh a2, 380(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 126(sp)
; RV32-NEXT:    lh a2, 378(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 125(sp)
; RV32-NEXT:    lh a2, 376(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 124(sp)
; RV32-NEXT:    lh a2, 374(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 123(sp)
; RV32-NEXT:    lh a2, 372(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 122(sp)
; RV32-NEXT:    lh a2, 370(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 121(sp)
; RV32-NEXT:    lh a2, 368(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 120(sp)
; RV32-NEXT:    lh a2, 366(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 119(sp)
; RV32-NEXT:    lh a2, 364(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 118(sp)
; RV32-NEXT:    lh a2, 362(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 117(sp)
; RV32-NEXT:    lh a2, 360(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 116(sp)
; RV32-NEXT:    lh a2, 358(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 115(sp)
; RV32-NEXT:    lh a2, 356(sp)
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    sb a2, 114(sp)
; RV32-NEXT:    vsetivli zero, 1, e16, m2, ta, ma
; RV32-NEXT:    vslidedown.vi v10, v8, 15
; RV32-NEXT:    vmv.x.s a2, v10
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v8, 14
; RV32-NEXT:    vmv.x.s a4, v10
; RV32-NEXT:    fmv.h.x fa4, a4
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a4, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v8, 13
; RV32-NEXT:    vmv.x.s a5, v10
; RV32-NEXT:    fmv.h.x fa4, a5
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a5, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v8, 12
; RV32-NEXT:    vmv.x.s a6, v10
; RV32-NEXT:    fmv.h.x fa4, a6
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a6, fa4, fa5
; RV32-NEXT:    sb a6, 76(sp)
; RV32-NEXT:    sb a5, 77(sp)
; RV32-NEXT:    sb a4, 78(sp)
; RV32-NEXT:    sb a2, 79(sp)
; RV32-NEXT:    vslidedown.vi v10, v8, 11
; RV32-NEXT:    vmv.x.s a2, v10
; RV32-NEXT:    fmv.h.x fa4, a2
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a2, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v8, 10
; RV32-NEXT:    vmv.x.s a4, v10
; RV32-NEXT:    fmv.h.x fa4, a4
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a4, fa4, fa5
; RV32-NEXT:    vslidedown.vi v10, v8, 9
; RV32-NEXT:    vmv.x.s a5, v10
; RV32-NEXT:    fmv.h.x fa4, a5
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a5, fa4, fa5
; RV32-NEXT:    vslidedown.vi v8, v8, 8
; RV32-NEXT:    vmv.x.s a6, v8
; RV32-NEXT:    fmv.h.x fa4, a6
; RV32-NEXT:    fcvt.s.bf16 fa4, fa4
; RV32-NEXT:    feq.s a6, fa4, fa5
; RV32-NEXT:    sb a6, 72(sp)
; RV32-NEXT:    sb a5, 73(sp)
; RV32-NEXT:    sb a4, 74(sp)
; RV32-NEXT:    sb a2, 75(sp)
; RV32-NEXT:    mv a2, sp
; RV32-NEXT:    vsetvli zero, a3, e8, m4, ta, ma
; RV32-NEXT:    vle8.v v8, (a2)
; RV32-NEXT:    addi a2, sp, 64
; RV32-NEXT:    vle8.v v12, (a2)
; RV32-NEXT:    vand.vi v4, v8, 1
; RV32-NEXT:    vand.vi v8, v12, 1
; RV32-NEXT:    vmsne.vi v0, v8, 0
; RV32-NEXT:    vle16.v v24, (a0)
; RV32-NEXT:    addi a0, a0, 128
; RV32-NEXT:    vle16.v v16, (a0)
; RV32-NEXT:    vmsne.vi v8, v4, 0
; RV32-NEXT:    vse16.v v24, (a1), v0.t
; RV32-NEXT:    addi a0, a1, 128
; RV32-NEXT:    vmv1r.v v0, v8
; RV32-NEXT:    vse16.v v16, (a0), v0.t
; RV32-NEXT:    addi sp, s0, -512
; RV32-NEXT:    lw ra, 508(sp) # 4-byte Folded Reload
; RV32-NEXT:    lw s0, 504(sp) # 4-byte Folded Reload
; RV32-NEXT:    addi sp, sp, 512
; RV32-NEXT:    ret
;
; RV64-LABEL: masked_store_v128bf16:
; RV64:       # %bb.0:
; RV64-NEXT:    addi sp, sp, -512
; RV64-NEXT:    sd ra, 504(sp) # 8-byte Folded Spill
; RV64-NEXT:    sd s0, 496(sp) # 8-byte Folded Spill
; RV64-NEXT:    addi s0, sp, 512
; RV64-NEXT:    andi sp, sp, -128
; RV64-NEXT:    li a3, 64
; RV64-NEXT:    addi a4, a2, 128
; RV64-NEXT:    vsetvli zero, a3, e16, m8, ta, ma
; RV64-NEXT:    vle16.v v16, (a4)
; RV64-NEXT:    vle16.v v8, (a2)
; RV64-NEXT:    addi a2, sp, 128
; RV64-NEXT:    vse16.v v16, (a2)
; RV64-NEXT:    addi a2, sp, 256
; RV64-NEXT:    vse16.v v8, (a2)
; RV64-NEXT:    lh a2, 192(sp)
; RV64-NEXT:    fmv.h.x fa5, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa5
; RV64-NEXT:    fmv.w.x fa5, zero
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 32(sp)
; RV64-NEXT:    lh a2, 190(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 31(sp)
; RV64-NEXT:    lh a2, 188(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 30(sp)
; RV64-NEXT:    lh a2, 186(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 29(sp)
; RV64-NEXT:    lh a2, 184(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 28(sp)
; RV64-NEXT:    lh a2, 182(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 27(sp)
; RV64-NEXT:    lh a2, 180(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 26(sp)
; RV64-NEXT:    lh a2, 178(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 25(sp)
; RV64-NEXT:    lh a2, 176(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 24(sp)
; RV64-NEXT:    lh a2, 174(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 23(sp)
; RV64-NEXT:    lh a2, 172(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 22(sp)
; RV64-NEXT:    lh a2, 170(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 21(sp)
; RV64-NEXT:    lh a2, 168(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 20(sp)
; RV64-NEXT:    lh a2, 166(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 19(sp)
; RV64-NEXT:    lh a2, 164(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 18(sp)
; RV64-NEXT:    lh a2, 162(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 17(sp)
; RV64-NEXT:    lh a2, 160(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    vmv.x.s a4, v16
; RV64-NEXT:    fmv.h.x fa4, a4
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a4, fa4, fa5
; RV64-NEXT:    sb a4, 0(sp)
; RV64-NEXT:    sb a2, 16(sp)
; RV64-NEXT:    lh a2, 226(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 49(sp)
; RV64-NEXT:    lh a2, 224(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 48(sp)
; RV64-NEXT:    lh a2, 222(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 47(sp)
; RV64-NEXT:    lh a2, 220(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 46(sp)
; RV64-NEXT:    lh a2, 218(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 45(sp)
; RV64-NEXT:    lh a2, 216(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 44(sp)
; RV64-NEXT:    lh a2, 214(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 43(sp)
; RV64-NEXT:    lh a2, 212(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 42(sp)
; RV64-NEXT:    lh a2, 210(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 41(sp)
; RV64-NEXT:    lh a2, 208(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 40(sp)
; RV64-NEXT:    lh a2, 206(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 39(sp)
; RV64-NEXT:    lh a2, 204(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 38(sp)
; RV64-NEXT:    lh a2, 202(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 37(sp)
; RV64-NEXT:    lh a2, 200(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 36(sp)
; RV64-NEXT:    lh a2, 198(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 35(sp)
; RV64-NEXT:    lh a2, 196(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 34(sp)
; RV64-NEXT:    lh a2, 194(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    vsetivli zero, 1, e16, m1, ta, ma
; RV64-NEXT:    vslidedown.vi v10, v16, 7
; RV64-NEXT:    vmv.x.s a4, v10
; RV64-NEXT:    fmv.h.x fa4, a4
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a4, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v16, 6
; RV64-NEXT:    vmv.x.s a5, v10
; RV64-NEXT:    fmv.h.x fa4, a5
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a5, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v16, 5
; RV64-NEXT:    vmv.x.s a6, v10
; RV64-NEXT:    fmv.h.x fa4, a6
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a6, fa4, fa5
; RV64-NEXT:    sb a6, 5(sp)
; RV64-NEXT:    sb a5, 6(sp)
; RV64-NEXT:    sb a4, 7(sp)
; RV64-NEXT:    sb a2, 33(sp)
; RV64-NEXT:    vslidedown.vi v10, v16, 4
; RV64-NEXT:    vmv.x.s a2, v10
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v16, 3
; RV64-NEXT:    vmv.x.s a4, v10
; RV64-NEXT:    fmv.h.x fa4, a4
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a4, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v16, 2
; RV64-NEXT:    vmv.x.s a5, v10
; RV64-NEXT:    fmv.h.x fa4, a5
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a5, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v16, 1
; RV64-NEXT:    vmv.x.s a6, v10
; RV64-NEXT:    fmv.h.x fa4, a6
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a6, fa4, fa5
; RV64-NEXT:    sb a6, 1(sp)
; RV64-NEXT:    sb a5, 2(sp)
; RV64-NEXT:    sb a4, 3(sp)
; RV64-NEXT:    sb a2, 4(sp)
; RV64-NEXT:    lh a2, 254(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 63(sp)
; RV64-NEXT:    lh a2, 252(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 62(sp)
; RV64-NEXT:    lh a2, 250(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 61(sp)
; RV64-NEXT:    lh a2, 248(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 60(sp)
; RV64-NEXT:    lh a2, 246(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 59(sp)
; RV64-NEXT:    lh a2, 244(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 58(sp)
; RV64-NEXT:    lh a2, 242(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 57(sp)
; RV64-NEXT:    lh a2, 240(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 56(sp)
; RV64-NEXT:    lh a2, 238(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 55(sp)
; RV64-NEXT:    lh a2, 236(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 54(sp)
; RV64-NEXT:    lh a2, 234(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 53(sp)
; RV64-NEXT:    lh a2, 232(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 52(sp)
; RV64-NEXT:    lh a2, 230(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 51(sp)
; RV64-NEXT:    lh a2, 228(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 50(sp)
; RV64-NEXT:    vsetivli zero, 1, e16, m2, ta, ma
; RV64-NEXT:    vslidedown.vi v10, v16, 15
; RV64-NEXT:    vmv.x.s a2, v10
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v16, 14
; RV64-NEXT:    vmv.x.s a4, v10
; RV64-NEXT:    fmv.h.x fa4, a4
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a4, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v16, 13
; RV64-NEXT:    vmv.x.s a5, v10
; RV64-NEXT:    fmv.h.x fa4, a5
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a5, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v16, 12
; RV64-NEXT:    vmv.x.s a6, v10
; RV64-NEXT:    fmv.h.x fa4, a6
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a6, fa4, fa5
; RV64-NEXT:    sb a6, 12(sp)
; RV64-NEXT:    sb a5, 13(sp)
; RV64-NEXT:    sb a4, 14(sp)
; RV64-NEXT:    sb a2, 15(sp)
; RV64-NEXT:    vslidedown.vi v10, v16, 11
; RV64-NEXT:    vmv.x.s a2, v10
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v16, 10
; RV64-NEXT:    vmv.x.s a4, v10
; RV64-NEXT:    fmv.h.x fa4, a4
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a4, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v16, 9
; RV64-NEXT:    vmv.x.s a5, v10
; RV64-NEXT:    fmv.h.x fa4, a5
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a5, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v16, 8
; RV64-NEXT:    vmv.x.s a6, v10
; RV64-NEXT:    fmv.h.x fa4, a6
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a6, fa4, fa5
; RV64-NEXT:    sb a6, 8(sp)
; RV64-NEXT:    sb a5, 9(sp)
; RV64-NEXT:    sb a4, 10(sp)
; RV64-NEXT:    sb a2, 11(sp)
; RV64-NEXT:    lh a2, 320(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 96(sp)
; RV64-NEXT:    lh a2, 318(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 95(sp)
; RV64-NEXT:    lh a2, 316(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 94(sp)
; RV64-NEXT:    lh a2, 314(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 93(sp)
; RV64-NEXT:    lh a2, 312(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 92(sp)
; RV64-NEXT:    lh a2, 310(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 91(sp)
; RV64-NEXT:    lh a2, 308(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 90(sp)
; RV64-NEXT:    lh a2, 306(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 89(sp)
; RV64-NEXT:    lh a2, 304(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 88(sp)
; RV64-NEXT:    lh a2, 302(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 87(sp)
; RV64-NEXT:    lh a2, 300(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 86(sp)
; RV64-NEXT:    lh a2, 298(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 85(sp)
; RV64-NEXT:    lh a2, 296(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 84(sp)
; RV64-NEXT:    lh a2, 294(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 83(sp)
; RV64-NEXT:    lh a2, 292(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 82(sp)
; RV64-NEXT:    lh a2, 290(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 81(sp)
; RV64-NEXT:    lh a2, 288(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    vmv.x.s a4, v8
; RV64-NEXT:    fmv.h.x fa4, a4
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a4, fa4, fa5
; RV64-NEXT:    sb a4, 64(sp)
; RV64-NEXT:    sb a2, 80(sp)
; RV64-NEXT:    lh a2, 354(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 113(sp)
; RV64-NEXT:    lh a2, 352(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 112(sp)
; RV64-NEXT:    lh a2, 350(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 111(sp)
; RV64-NEXT:    lh a2, 348(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 110(sp)
; RV64-NEXT:    lh a2, 346(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 109(sp)
; RV64-NEXT:    lh a2, 344(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 108(sp)
; RV64-NEXT:    lh a2, 342(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 107(sp)
; RV64-NEXT:    lh a2, 340(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 106(sp)
; RV64-NEXT:    lh a2, 338(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 105(sp)
; RV64-NEXT:    lh a2, 336(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 104(sp)
; RV64-NEXT:    lh a2, 334(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 103(sp)
; RV64-NEXT:    lh a2, 332(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 102(sp)
; RV64-NEXT:    lh a2, 330(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 101(sp)
; RV64-NEXT:    lh a2, 328(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 100(sp)
; RV64-NEXT:    lh a2, 326(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 99(sp)
; RV64-NEXT:    lh a2, 324(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 98(sp)
; RV64-NEXT:    lh a2, 322(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    vsetivli zero, 1, e16, m1, ta, ma
; RV64-NEXT:    vslidedown.vi v10, v8, 7
; RV64-NEXT:    vmv.x.s a4, v10
; RV64-NEXT:    fmv.h.x fa4, a4
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a4, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v8, 6
; RV64-NEXT:    vmv.x.s a5, v10
; RV64-NEXT:    fmv.h.x fa4, a5
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a5, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v8, 5
; RV64-NEXT:    vmv.x.s a6, v10
; RV64-NEXT:    fmv.h.x fa4, a6
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a6, fa4, fa5
; RV64-NEXT:    sb a6, 69(sp)
; RV64-NEXT:    sb a5, 70(sp)
; RV64-NEXT:    sb a4, 71(sp)
; RV64-NEXT:    sb a2, 97(sp)
; RV64-NEXT:    vslidedown.vi v10, v8, 4
; RV64-NEXT:    vmv.x.s a2, v10
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v8, 3
; RV64-NEXT:    vmv.x.s a4, v10
; RV64-NEXT:    fmv.h.x fa4, a4
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a4, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v8, 2
; RV64-NEXT:    vmv.x.s a5, v10
; RV64-NEXT:    fmv.h.x fa4, a5
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a5, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v8, 1
; RV64-NEXT:    vmv.x.s a6, v10
; RV64-NEXT:    fmv.h.x fa4, a6
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a6, fa4, fa5
; RV64-NEXT:    sb a6, 65(sp)
; RV64-NEXT:    sb a5, 66(sp)
; RV64-NEXT:    sb a4, 67(sp)
; RV64-NEXT:    sb a2, 68(sp)
; RV64-NEXT:    lh a2, 382(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 127(sp)
; RV64-NEXT:    lh a2, 380(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 126(sp)
; RV64-NEXT:    lh a2, 378(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 125(sp)
; RV64-NEXT:    lh a2, 376(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 124(sp)
; RV64-NEXT:    lh a2, 374(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 123(sp)
; RV64-NEXT:    lh a2, 372(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 122(sp)
; RV64-NEXT:    lh a2, 370(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 121(sp)
; RV64-NEXT:    lh a2, 368(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 120(sp)
; RV64-NEXT:    lh a2, 366(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 119(sp)
; RV64-NEXT:    lh a2, 364(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 118(sp)
; RV64-NEXT:    lh a2, 362(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 117(sp)
; RV64-NEXT:    lh a2, 360(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 116(sp)
; RV64-NEXT:    lh a2, 358(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 115(sp)
; RV64-NEXT:    lh a2, 356(sp)
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    sb a2, 114(sp)
; RV64-NEXT:    vsetivli zero, 1, e16, m2, ta, ma
; RV64-NEXT:    vslidedown.vi v10, v8, 15
; RV64-NEXT:    vmv.x.s a2, v10
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v8, 14
; RV64-NEXT:    vmv.x.s a4, v10
; RV64-NEXT:    fmv.h.x fa4, a4
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a4, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v8, 13
; RV64-NEXT:    vmv.x.s a5, v10
; RV64-NEXT:    fmv.h.x fa4, a5
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a5, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v8, 12
; RV64-NEXT:    vmv.x.s a6, v10
; RV64-NEXT:    fmv.h.x fa4, a6
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a6, fa4, fa5
; RV64-NEXT:    sb a6, 76(sp)
; RV64-NEXT:    sb a5, 77(sp)
; RV64-NEXT:    sb a4, 78(sp)
; RV64-NEXT:    sb a2, 79(sp)
; RV64-NEXT:    vslidedown.vi v10, v8, 11
; RV64-NEXT:    vmv.x.s a2, v10
; RV64-NEXT:    fmv.h.x fa4, a2
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a2, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v8, 10
; RV64-NEXT:    vmv.x.s a4, v10
; RV64-NEXT:    fmv.h.x fa4, a4
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a4, fa4, fa5
; RV64-NEXT:    vslidedown.vi v10, v8, 9
; RV64-NEXT:    vmv.x.s a5, v10
; RV64-NEXT:    fmv.h.x fa4, a5
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a5, fa4, fa5
; RV64-NEXT:    vslidedown.vi v8, v8, 8
; RV64-NEXT:    vmv.x.s a6, v8
; RV64-NEXT:    fmv.h.x fa4, a6
; RV64-NEXT:    fcvt.s.bf16 fa4, fa4
; RV64-NEXT:    feq.s a6, fa4, fa5
; RV64-NEXT:    sb a6, 72(sp)
; RV64-NEXT:    sb a5, 73(sp)
; RV64-NEXT:    sb a4, 74(sp)
; RV64-NEXT:    sb a2, 75(sp)
; RV64-NEXT:    mv a2, sp
; RV64-NEXT:    vsetvli zero, a3, e8, m4, ta, ma
; RV64-NEXT:    vle8.v v8, (a2)
; RV64-NEXT:    addi a2, sp, 64
; RV64-NEXT:    vle8.v v12, (a2)
; RV64-NEXT:    vand.vi v4, v8, 1
; RV64-NEXT:    vand.vi v8, v12, 1
; RV64-NEXT:    vmsne.vi v0, v8, 0
; RV64-NEXT:    vle16.v v24, (a0)
; RV64-NEXT:    addi a0, a0, 128
; RV64-NEXT:    vle16.v v16, (a0)
; RV64-NEXT:    vmsne.vi v8, v4, 0
; RV64-NEXT:    vse16.v v24, (a1), v0.t
; RV64-NEXT:    addi a0, a1, 128
; RV64-NEXT:    vmv1r.v v0, v8
; RV64-NEXT:    vse16.v v16, (a0), v0.t
; RV64-NEXT:    addi sp, s0, -512
; RV64-NEXT:    ld ra, 504(sp) # 8-byte Folded Reload
; RV64-NEXT:    ld s0, 496(sp) # 8-byte Folded Reload
; RV64-NEXT:    addi sp, sp, 512
; RV64-NEXT:    ret
  %m = load <128 x bfloat>, ptr %m_ptr
  %mask = fcmp oeq <128 x bfloat> %m, zeroinitializer
  %val = load <128 x bfloat>, ptr %val_ptr
  call void @llvm.masked.store.v128bf16.p0v128bf16(<128 x bfloat> %val, ptr %a, i32 8, <128 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v128bf16.p0v128bf16(<128 x bfloat>, ptr, i32, <128 x i1>)

define void @masked_store_v128f16(ptr %val_ptr, ptr %a, ptr %m_ptr) nounwind {
; ZVFH-LABEL: masked_store_v128f16:
; ZVFH:       # %bb.0:
; ZVFH-NEXT:    addi sp, sp, -16
; ZVFH-NEXT:    csrr a3, vlenb
; ZVFH-NEXT:    slli a3, a3, 4
; ZVFH-NEXT:    sub sp, sp, a3
; ZVFH-NEXT:    li a3, 64
; ZVFH-NEXT:    vsetvli zero, a3, e16, m8, ta, ma
; ZVFH-NEXT:    vle16.v v8, (a2)
; ZVFH-NEXT:    addi a2, a2, 128
; ZVFH-NEXT:    vle16.v v16, (a2)
; ZVFH-NEXT:    csrr a2, vlenb
; ZVFH-NEXT:    slli a2, a2, 3
; ZVFH-NEXT:    add a2, sp, a2
; ZVFH-NEXT:    addi a2, a2, 16
; ZVFH-NEXT:    vs8r.v v16, (a2) # Unknown-size Folded Spill
; ZVFH-NEXT:    fmv.h.x fa5, zero
; ZVFH-NEXT:    vmfeq.vf v0, v8, fa5
; ZVFH-NEXT:    vle16.v v24, (a0)
; ZVFH-NEXT:    addi a0, a0, 128
; ZVFH-NEXT:    vle16.v v8, (a0)
; ZVFH-NEXT:    addi a0, sp, 16
; ZVFH-NEXT:    vs8r.v v8, (a0) # Unknown-size Folded Spill
; ZVFH-NEXT:    csrr a0, vlenb
; ZVFH-NEXT:    slli a0, a0, 3
; ZVFH-NEXT:    add a0, sp, a0
; ZVFH-NEXT:    addi a0, a0, 16
; ZVFH-NEXT:    vl8r.v v16, (a0) # Unknown-size Folded Reload
; ZVFH-NEXT:    vmfeq.vf v8, v16, fa5
; ZVFH-NEXT:    vse16.v v24, (a1), v0.t
; ZVFH-NEXT:    addi a0, a1, 128
; ZVFH-NEXT:    vmv1r.v v0, v8
; ZVFH-NEXT:    addi a1, sp, 16
; ZVFH-NEXT:    vl8r.v v8, (a1) # Unknown-size Folded Reload
; ZVFH-NEXT:    vse16.v v8, (a0), v0.t
; ZVFH-NEXT:    csrr a0, vlenb
; ZVFH-NEXT:    slli a0, a0, 4
; ZVFH-NEXT:    add sp, sp, a0
; ZVFH-NEXT:    addi sp, sp, 16
; ZVFH-NEXT:    ret
;
; RV32-ZVFHMIN-LABEL: masked_store_v128f16:
; RV32-ZVFHMIN:       # %bb.0:
; RV32-ZVFHMIN-NEXT:    addi sp, sp, -512
; RV32-ZVFHMIN-NEXT:    sw ra, 508(sp) # 4-byte Folded Spill
; RV32-ZVFHMIN-NEXT:    sw s0, 504(sp) # 4-byte Folded Spill
; RV32-ZVFHMIN-NEXT:    addi s0, sp, 512
; RV32-ZVFHMIN-NEXT:    andi sp, sp, -128
; RV32-ZVFHMIN-NEXT:    li a3, 64
; RV32-ZVFHMIN-NEXT:    addi a4, a2, 128
; RV32-ZVFHMIN-NEXT:    vsetvli zero, a3, e16, m8, ta, ma
; RV32-ZVFHMIN-NEXT:    vle16.v v16, (a4)
; RV32-ZVFHMIN-NEXT:    vle16.v v8, (a2)
; RV32-ZVFHMIN-NEXT:    addi a2, sp, 128
; RV32-ZVFHMIN-NEXT:    vse16.v v16, (a2)
; RV32-ZVFHMIN-NEXT:    addi a2, sp, 256
; RV32-ZVFHMIN-NEXT:    vse16.v v8, (a2)
; RV32-ZVFHMIN-NEXT:    lh a2, 192(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa5, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa5
; RV32-ZVFHMIN-NEXT:    fmv.w.x fa5, zero
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 32(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 190(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 31(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 188(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 30(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 186(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 29(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 184(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 28(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 182(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 27(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 180(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 26(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 178(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 25(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 176(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 24(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 174(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 23(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 172(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 22(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 170(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 21(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 168(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 20(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 166(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 19(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 164(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 18(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 162(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 17(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 160(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vmv.x.s a4, v16
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a4, 0(sp)
; RV32-ZVFHMIN-NEXT:    sb a2, 16(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 226(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 49(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 224(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 48(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 222(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 47(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 220(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 46(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 218(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 45(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 216(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 44(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 214(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 43(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 212(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 42(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 210(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 41(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 208(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 40(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 206(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 39(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 204(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 38(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 202(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 37(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 200(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 36(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 198(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 35(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 196(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 34(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 194(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vsetivli zero, 1, e16, m1, ta, ma
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 7
; RV32-ZVFHMIN-NEXT:    vmv.x.s a4, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 6
; RV32-ZVFHMIN-NEXT:    vmv.x.s a5, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a5
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a5, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 5
; RV32-ZVFHMIN-NEXT:    vmv.x.s a6, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a6
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a6, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a6, 5(sp)
; RV32-ZVFHMIN-NEXT:    sb a5, 6(sp)
; RV32-ZVFHMIN-NEXT:    sb a4, 7(sp)
; RV32-ZVFHMIN-NEXT:    sb a2, 33(sp)
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 4
; RV32-ZVFHMIN-NEXT:    vmv.x.s a2, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 3
; RV32-ZVFHMIN-NEXT:    vmv.x.s a4, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 2
; RV32-ZVFHMIN-NEXT:    vmv.x.s a5, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a5
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a5, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 1
; RV32-ZVFHMIN-NEXT:    vmv.x.s a6, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a6
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a6, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a6, 1(sp)
; RV32-ZVFHMIN-NEXT:    sb a5, 2(sp)
; RV32-ZVFHMIN-NEXT:    sb a4, 3(sp)
; RV32-ZVFHMIN-NEXT:    sb a2, 4(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 254(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 63(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 252(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 62(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 250(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 61(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 248(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 60(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 246(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 59(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 244(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 58(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 242(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 57(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 240(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 56(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 238(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 55(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 236(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 54(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 234(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 53(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 232(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 52(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 230(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 51(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 228(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 50(sp)
; RV32-ZVFHMIN-NEXT:    vsetivli zero, 1, e16, m2, ta, ma
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 15
; RV32-ZVFHMIN-NEXT:    vmv.x.s a2, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 14
; RV32-ZVFHMIN-NEXT:    vmv.x.s a4, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 13
; RV32-ZVFHMIN-NEXT:    vmv.x.s a5, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a5
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a5, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 12
; RV32-ZVFHMIN-NEXT:    vmv.x.s a6, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a6
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a6, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a6, 12(sp)
; RV32-ZVFHMIN-NEXT:    sb a5, 13(sp)
; RV32-ZVFHMIN-NEXT:    sb a4, 14(sp)
; RV32-ZVFHMIN-NEXT:    sb a2, 15(sp)
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 11
; RV32-ZVFHMIN-NEXT:    vmv.x.s a2, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 10
; RV32-ZVFHMIN-NEXT:    vmv.x.s a4, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 9
; RV32-ZVFHMIN-NEXT:    vmv.x.s a5, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a5
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a5, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 8
; RV32-ZVFHMIN-NEXT:    vmv.x.s a6, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a6
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a6, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a6, 8(sp)
; RV32-ZVFHMIN-NEXT:    sb a5, 9(sp)
; RV32-ZVFHMIN-NEXT:    sb a4, 10(sp)
; RV32-ZVFHMIN-NEXT:    sb a2, 11(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 320(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 96(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 318(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 95(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 316(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 94(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 314(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 93(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 312(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 92(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 310(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 91(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 308(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 90(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 306(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 89(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 304(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 88(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 302(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 87(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 300(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 86(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 298(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 85(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 296(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 84(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 294(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 83(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 292(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 82(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 290(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 81(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 288(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vmv.x.s a4, v8
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a4, 64(sp)
; RV32-ZVFHMIN-NEXT:    sb a2, 80(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 354(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 113(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 352(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 112(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 350(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 111(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 348(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 110(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 346(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 109(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 344(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 108(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 342(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 107(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 340(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 106(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 338(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 105(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 336(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 104(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 334(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 103(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 332(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 102(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 330(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 101(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 328(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 100(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 326(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 99(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 324(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 98(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 322(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vsetivli zero, 1, e16, m1, ta, ma
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 7
; RV32-ZVFHMIN-NEXT:    vmv.x.s a4, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 6
; RV32-ZVFHMIN-NEXT:    vmv.x.s a5, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a5
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a5, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 5
; RV32-ZVFHMIN-NEXT:    vmv.x.s a6, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a6
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a6, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a6, 69(sp)
; RV32-ZVFHMIN-NEXT:    sb a5, 70(sp)
; RV32-ZVFHMIN-NEXT:    sb a4, 71(sp)
; RV32-ZVFHMIN-NEXT:    sb a2, 97(sp)
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 4
; RV32-ZVFHMIN-NEXT:    vmv.x.s a2, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 3
; RV32-ZVFHMIN-NEXT:    vmv.x.s a4, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 2
; RV32-ZVFHMIN-NEXT:    vmv.x.s a5, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a5
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a5, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 1
; RV32-ZVFHMIN-NEXT:    vmv.x.s a6, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a6
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a6, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a6, 65(sp)
; RV32-ZVFHMIN-NEXT:    sb a5, 66(sp)
; RV32-ZVFHMIN-NEXT:    sb a4, 67(sp)
; RV32-ZVFHMIN-NEXT:    sb a2, 68(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 382(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 127(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 380(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 126(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 378(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 125(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 376(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 124(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 374(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 123(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 372(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 122(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 370(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 121(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 368(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 120(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 366(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 119(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 364(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 118(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 362(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 117(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 360(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 116(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 358(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 115(sp)
; RV32-ZVFHMIN-NEXT:    lh a2, 356(sp)
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a2, 114(sp)
; RV32-ZVFHMIN-NEXT:    vsetivli zero, 1, e16, m2, ta, ma
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 15
; RV32-ZVFHMIN-NEXT:    vmv.x.s a2, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 14
; RV32-ZVFHMIN-NEXT:    vmv.x.s a4, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 13
; RV32-ZVFHMIN-NEXT:    vmv.x.s a5, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a5
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a5, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 12
; RV32-ZVFHMIN-NEXT:    vmv.x.s a6, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a6
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a6, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a6, 76(sp)
; RV32-ZVFHMIN-NEXT:    sb a5, 77(sp)
; RV32-ZVFHMIN-NEXT:    sb a4, 78(sp)
; RV32-ZVFHMIN-NEXT:    sb a2, 79(sp)
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 11
; RV32-ZVFHMIN-NEXT:    vmv.x.s a2, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 10
; RV32-ZVFHMIN-NEXT:    vmv.x.s a4, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 9
; RV32-ZVFHMIN-NEXT:    vmv.x.s a5, v10
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a5
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a5, fa4, fa5
; RV32-ZVFHMIN-NEXT:    vslidedown.vi v8, v8, 8
; RV32-ZVFHMIN-NEXT:    vmv.x.s a6, v8
; RV32-ZVFHMIN-NEXT:    fmv.h.x fa4, a6
; RV32-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV32-ZVFHMIN-NEXT:    feq.s a6, fa4, fa5
; RV32-ZVFHMIN-NEXT:    sb a6, 72(sp)
; RV32-ZVFHMIN-NEXT:    sb a5, 73(sp)
; RV32-ZVFHMIN-NEXT:    sb a4, 74(sp)
; RV32-ZVFHMIN-NEXT:    sb a2, 75(sp)
; RV32-ZVFHMIN-NEXT:    mv a2, sp
; RV32-ZVFHMIN-NEXT:    vsetvli zero, a3, e8, m4, ta, ma
; RV32-ZVFHMIN-NEXT:    vle8.v v8, (a2)
; RV32-ZVFHMIN-NEXT:    addi a2, sp, 64
; RV32-ZVFHMIN-NEXT:    vle8.v v12, (a2)
; RV32-ZVFHMIN-NEXT:    vand.vi v4, v8, 1
; RV32-ZVFHMIN-NEXT:    vand.vi v8, v12, 1
; RV32-ZVFHMIN-NEXT:    vmsne.vi v0, v8, 0
; RV32-ZVFHMIN-NEXT:    vle16.v v24, (a0)
; RV32-ZVFHMIN-NEXT:    addi a0, a0, 128
; RV32-ZVFHMIN-NEXT:    vle16.v v16, (a0)
; RV32-ZVFHMIN-NEXT:    vmsne.vi v8, v4, 0
; RV32-ZVFHMIN-NEXT:    vse16.v v24, (a1), v0.t
; RV32-ZVFHMIN-NEXT:    addi a0, a1, 128
; RV32-ZVFHMIN-NEXT:    vmv1r.v v0, v8
; RV32-ZVFHMIN-NEXT:    vse16.v v16, (a0), v0.t
; RV32-ZVFHMIN-NEXT:    addi sp, s0, -512
; RV32-ZVFHMIN-NEXT:    lw ra, 508(sp) # 4-byte Folded Reload
; RV32-ZVFHMIN-NEXT:    lw s0, 504(sp) # 4-byte Folded Reload
; RV32-ZVFHMIN-NEXT:    addi sp, sp, 512
; RV32-ZVFHMIN-NEXT:    ret
;
; RV64-ZVFHMIN-LABEL: masked_store_v128f16:
; RV64-ZVFHMIN:       # %bb.0:
; RV64-ZVFHMIN-NEXT:    addi sp, sp, -512
; RV64-ZVFHMIN-NEXT:    sd ra, 504(sp) # 8-byte Folded Spill
; RV64-ZVFHMIN-NEXT:    sd s0, 496(sp) # 8-byte Folded Spill
; RV64-ZVFHMIN-NEXT:    addi s0, sp, 512
; RV64-ZVFHMIN-NEXT:    andi sp, sp, -128
; RV64-ZVFHMIN-NEXT:    li a3, 64
; RV64-ZVFHMIN-NEXT:    addi a4, a2, 128
; RV64-ZVFHMIN-NEXT:    vsetvli zero, a3, e16, m8, ta, ma
; RV64-ZVFHMIN-NEXT:    vle16.v v16, (a4)
; RV64-ZVFHMIN-NEXT:    vle16.v v8, (a2)
; RV64-ZVFHMIN-NEXT:    addi a2, sp, 128
; RV64-ZVFHMIN-NEXT:    vse16.v v16, (a2)
; RV64-ZVFHMIN-NEXT:    addi a2, sp, 256
; RV64-ZVFHMIN-NEXT:    vse16.v v8, (a2)
; RV64-ZVFHMIN-NEXT:    lh a2, 192(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa5, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa5
; RV64-ZVFHMIN-NEXT:    fmv.w.x fa5, zero
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 32(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 190(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 31(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 188(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 30(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 186(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 29(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 184(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 28(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 182(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 27(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 180(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 26(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 178(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 25(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 176(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 24(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 174(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 23(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 172(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 22(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 170(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 21(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 168(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 20(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 166(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 19(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 164(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 18(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 162(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 17(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 160(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vmv.x.s a4, v16
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a4, 0(sp)
; RV64-ZVFHMIN-NEXT:    sb a2, 16(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 226(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 49(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 224(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 48(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 222(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 47(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 220(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 46(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 218(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 45(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 216(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 44(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 214(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 43(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 212(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 42(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 210(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 41(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 208(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 40(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 206(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 39(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 204(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 38(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 202(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 37(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 200(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 36(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 198(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 35(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 196(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 34(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 194(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vsetivli zero, 1, e16, m1, ta, ma
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 7
; RV64-ZVFHMIN-NEXT:    vmv.x.s a4, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 6
; RV64-ZVFHMIN-NEXT:    vmv.x.s a5, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a5
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a5, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 5
; RV64-ZVFHMIN-NEXT:    vmv.x.s a6, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a6
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a6, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a6, 5(sp)
; RV64-ZVFHMIN-NEXT:    sb a5, 6(sp)
; RV64-ZVFHMIN-NEXT:    sb a4, 7(sp)
; RV64-ZVFHMIN-NEXT:    sb a2, 33(sp)
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 4
; RV64-ZVFHMIN-NEXT:    vmv.x.s a2, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 3
; RV64-ZVFHMIN-NEXT:    vmv.x.s a4, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 2
; RV64-ZVFHMIN-NEXT:    vmv.x.s a5, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a5
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a5, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 1
; RV64-ZVFHMIN-NEXT:    vmv.x.s a6, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a6
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a6, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a6, 1(sp)
; RV64-ZVFHMIN-NEXT:    sb a5, 2(sp)
; RV64-ZVFHMIN-NEXT:    sb a4, 3(sp)
; RV64-ZVFHMIN-NEXT:    sb a2, 4(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 254(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 63(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 252(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 62(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 250(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 61(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 248(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 60(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 246(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 59(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 244(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 58(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 242(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 57(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 240(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 56(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 238(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 55(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 236(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 54(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 234(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 53(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 232(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 52(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 230(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 51(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 228(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 50(sp)
; RV64-ZVFHMIN-NEXT:    vsetivli zero, 1, e16, m2, ta, ma
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 15
; RV64-ZVFHMIN-NEXT:    vmv.x.s a2, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 14
; RV64-ZVFHMIN-NEXT:    vmv.x.s a4, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 13
; RV64-ZVFHMIN-NEXT:    vmv.x.s a5, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a5
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a5, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 12
; RV64-ZVFHMIN-NEXT:    vmv.x.s a6, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a6
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a6, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a6, 12(sp)
; RV64-ZVFHMIN-NEXT:    sb a5, 13(sp)
; RV64-ZVFHMIN-NEXT:    sb a4, 14(sp)
; RV64-ZVFHMIN-NEXT:    sb a2, 15(sp)
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 11
; RV64-ZVFHMIN-NEXT:    vmv.x.s a2, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 10
; RV64-ZVFHMIN-NEXT:    vmv.x.s a4, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 9
; RV64-ZVFHMIN-NEXT:    vmv.x.s a5, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a5
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a5, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v16, 8
; RV64-ZVFHMIN-NEXT:    vmv.x.s a6, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a6
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a6, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a6, 8(sp)
; RV64-ZVFHMIN-NEXT:    sb a5, 9(sp)
; RV64-ZVFHMIN-NEXT:    sb a4, 10(sp)
; RV64-ZVFHMIN-NEXT:    sb a2, 11(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 320(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 96(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 318(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 95(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 316(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 94(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 314(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 93(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 312(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 92(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 310(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 91(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 308(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 90(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 306(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 89(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 304(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 88(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 302(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 87(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 300(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 86(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 298(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 85(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 296(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 84(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 294(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 83(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 292(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 82(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 290(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 81(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 288(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vmv.x.s a4, v8
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a4, 64(sp)
; RV64-ZVFHMIN-NEXT:    sb a2, 80(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 354(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 113(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 352(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 112(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 350(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 111(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 348(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 110(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 346(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 109(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 344(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 108(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 342(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 107(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 340(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 106(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 338(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 105(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 336(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 104(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 334(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 103(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 332(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 102(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 330(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 101(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 328(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 100(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 326(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 99(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 324(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 98(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 322(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vsetivli zero, 1, e16, m1, ta, ma
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 7
; RV64-ZVFHMIN-NEXT:    vmv.x.s a4, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 6
; RV64-ZVFHMIN-NEXT:    vmv.x.s a5, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a5
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a5, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 5
; RV64-ZVFHMIN-NEXT:    vmv.x.s a6, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a6
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a6, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a6, 69(sp)
; RV64-ZVFHMIN-NEXT:    sb a5, 70(sp)
; RV64-ZVFHMIN-NEXT:    sb a4, 71(sp)
; RV64-ZVFHMIN-NEXT:    sb a2, 97(sp)
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 4
; RV64-ZVFHMIN-NEXT:    vmv.x.s a2, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 3
; RV64-ZVFHMIN-NEXT:    vmv.x.s a4, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 2
; RV64-ZVFHMIN-NEXT:    vmv.x.s a5, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a5
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a5, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 1
; RV64-ZVFHMIN-NEXT:    vmv.x.s a6, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a6
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a6, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a6, 65(sp)
; RV64-ZVFHMIN-NEXT:    sb a5, 66(sp)
; RV64-ZVFHMIN-NEXT:    sb a4, 67(sp)
; RV64-ZVFHMIN-NEXT:    sb a2, 68(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 382(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 127(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 380(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 126(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 378(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 125(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 376(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 124(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 374(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 123(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 372(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 122(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 370(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 121(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 368(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 120(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 366(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 119(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 364(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 118(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 362(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 117(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 360(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 116(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 358(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 115(sp)
; RV64-ZVFHMIN-NEXT:    lh a2, 356(sp)
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a2, 114(sp)
; RV64-ZVFHMIN-NEXT:    vsetivli zero, 1, e16, m2, ta, ma
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 15
; RV64-ZVFHMIN-NEXT:    vmv.x.s a2, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 14
; RV64-ZVFHMIN-NEXT:    vmv.x.s a4, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 13
; RV64-ZVFHMIN-NEXT:    vmv.x.s a5, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a5
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a5, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 12
; RV64-ZVFHMIN-NEXT:    vmv.x.s a6, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a6
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a6, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a6, 76(sp)
; RV64-ZVFHMIN-NEXT:    sb a5, 77(sp)
; RV64-ZVFHMIN-NEXT:    sb a4, 78(sp)
; RV64-ZVFHMIN-NEXT:    sb a2, 79(sp)
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 11
; RV64-ZVFHMIN-NEXT:    vmv.x.s a2, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a2
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a2, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 10
; RV64-ZVFHMIN-NEXT:    vmv.x.s a4, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a4
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a4, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v10, v8, 9
; RV64-ZVFHMIN-NEXT:    vmv.x.s a5, v10
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a5
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a5, fa4, fa5
; RV64-ZVFHMIN-NEXT:    vslidedown.vi v8, v8, 8
; RV64-ZVFHMIN-NEXT:    vmv.x.s a6, v8
; RV64-ZVFHMIN-NEXT:    fmv.h.x fa4, a6
; RV64-ZVFHMIN-NEXT:    fcvt.s.h fa4, fa4
; RV64-ZVFHMIN-NEXT:    feq.s a6, fa4, fa5
; RV64-ZVFHMIN-NEXT:    sb a6, 72(sp)
; RV64-ZVFHMIN-NEXT:    sb a5, 73(sp)
; RV64-ZVFHMIN-NEXT:    sb a4, 74(sp)
; RV64-ZVFHMIN-NEXT:    sb a2, 75(sp)
; RV64-ZVFHMIN-NEXT:    mv a2, sp
; RV64-ZVFHMIN-NEXT:    vsetvli zero, a3, e8, m4, ta, ma
; RV64-ZVFHMIN-NEXT:    vle8.v v8, (a2)
; RV64-ZVFHMIN-NEXT:    addi a2, sp, 64
; RV64-ZVFHMIN-NEXT:    vle8.v v12, (a2)
; RV64-ZVFHMIN-NEXT:    vand.vi v4, v8, 1
; RV64-ZVFHMIN-NEXT:    vand.vi v8, v12, 1
; RV64-ZVFHMIN-NEXT:    vmsne.vi v0, v8, 0
; RV64-ZVFHMIN-NEXT:    vle16.v v24, (a0)
; RV64-ZVFHMIN-NEXT:    addi a0, a0, 128
; RV64-ZVFHMIN-NEXT:    vle16.v v16, (a0)
; RV64-ZVFHMIN-NEXT:    vmsne.vi v8, v4, 0
; RV64-ZVFHMIN-NEXT:    vse16.v v24, (a1), v0.t
; RV64-ZVFHMIN-NEXT:    addi a0, a1, 128
; RV64-ZVFHMIN-NEXT:    vmv1r.v v0, v8
; RV64-ZVFHMIN-NEXT:    vse16.v v16, (a0), v0.t
; RV64-ZVFHMIN-NEXT:    addi sp, s0, -512
; RV64-ZVFHMIN-NEXT:    ld ra, 504(sp) # 8-byte Folded Reload
; RV64-ZVFHMIN-NEXT:    ld s0, 496(sp) # 8-byte Folded Reload
; RV64-ZVFHMIN-NEXT:    addi sp, sp, 512
; RV64-ZVFHMIN-NEXT:    ret
  %m = load <128 x half>, ptr %m_ptr
  %mask = fcmp oeq <128 x half> %m, zeroinitializer
  %val = load <128 x half>, ptr %val_ptr
  call void @llvm.masked.store.v128f16.p0v128f16(<128 x half> %val, ptr %a, i32 8, <128 x i1> %mask)
  ret void
}
declare void @llvm.masked.store.v128f16.p0v128f16(<128 x half>, ptr, i32, <128 x i1>)
;; NOTE: These prefixes are unused and the list is autogenerated. Do not add tests below this line:
; RV32-ZVFH: {{.*}}
; RV64-ZVFH: {{.*}}
