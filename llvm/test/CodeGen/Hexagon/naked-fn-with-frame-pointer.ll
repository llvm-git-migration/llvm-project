; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 5
; RUN: llc < %s -mtriple hexagon | FileCheck %s -check-prefixes=NAKED

declare dso_local void @main()

define dso_local void @naked() naked "frame-pointer"="all" {
; NAKED-LABEL: naked:
; NAKED:         .cfi_startproc
; NAKED-NEXT:  // %bb.0:
; NAKED-NEXT:    {
; NAKED-NEXT:     call main
; NAKED-NEXT:    }
  call void @main()
  unreachable
}

define dso_local void @normal() "frame-pointer"="all" {
; NAKED-LABEL: normal:
; NAKED:         .cfi_startproc
; NAKED-NEXT:  // %bb.0:
; NAKED-NEXT:    .cfi_def_cfa r30, 8
; NAKED-NEXT:    .cfi_offset r31, -4
; NAKED-NEXT:    .cfi_offset r30, -8
; NAKED-NEXT:    {
; NAKED-NEXT:     call main
; NAKED-NEXT:     allocframe(r29,#0):raw
; NAKED-NEXT:    }
  call void @main()
  unreachable
}
