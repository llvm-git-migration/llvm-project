; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 4
; RUN: llc < %s -mtriple=aarch64 | FileCheck %s

define void @f(i16 %0, ptr %1) {
; CHECK-LABEL: f:
; CHECK:       // %bb.0:
; CHECK-NEXT:    strh w0, [x1]
; CHECK-NEXT:    ret
  %3 = trunc i16 %0 to i8
  %4 = trunc i16 %0 to i14
  %new0 = lshr i14 %4, 8
 store i8 %3, ptr %1, align 1
  %5 = getelementptr i8, ptr %1, i64 1
 %6 = trunc i14 %new0 to i8
  store i8 %6, ptr %5, align 1
  ret void
}
