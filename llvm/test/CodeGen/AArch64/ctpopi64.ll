; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 5
; RUN: llc -o - %s -mtriple=aarch64-linux-gnu | FileCheck %s --check-prefixes=CHECK
define i64 @popcount(i64 %n){
; CHECK-LABEL: popcount:
; CHECK:       // %bb.0: // %entry
; CHECK-NEXT:    fmov d0, x0
; CHECK-NEXT:    cnt v0.8b, v0.8b
; CHECK-NEXT:    addv b0, v0.8b
; CHECK-NEXT:    fmov x0, d0
; CHECK-NEXT:    ret
entry:
  %0 = tail call range(i64 0, 65) i64 @llvm.ctpop.i64(i64 %n)
  ret i64 %0
}

declare i64 @llvm.ctpop.i64(i64) #1
