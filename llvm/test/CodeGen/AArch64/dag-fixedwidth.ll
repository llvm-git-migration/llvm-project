; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; RUN: llc < %s -mtriple=aarch64 | FileCheck %s

define i4 @fixedwidth(i4 %a0, i4 %a1)  {
; CHECK-LABEL: fixedwidth:
  %and = and i4 %a0, %a1
  %xor = xor i4 %a0, %a1
  %srl = lshr i4 %xor, 1
  %res = add i4 %and, %srl
  ret i4 %res
}
