; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 5
; RUN: llc < %s -mtriple aarch64 | FileCheck %s -check-prefixes=NAKED-LE
; RUN: llc < %s -mtriple aarch64_be | FileCheck %s -check-prefixes=NAKED-BE

declare dso_local void @main()

define dso_local void @naked() naked "frame-pointer"="all" {
; NAKED-LE-LABEL: naked:
; NAKED-LE:       // %bb.0:
; NAKED-LE-NEXT:    bl main
;
; NAKED-BE-LABEL: naked:
; NAKED-BE:       // %bb.0:
; NAKED-BE-NEXT:    bl main
  call void @main()
  unreachable
}

define dso_local void @normal() "frame-pointer"="all" {
; NAKED-LE-LABEL: normal:
; NAKED-LE:       // %bb.0:
; NAKED-LE-NEXT:    stp x29, x30, [sp, #-16]! // 16-byte Folded Spill
; NAKED-LE-NEXT:    mov x29, sp
; NAKED-LE-NEXT:    .cfi_def_cfa w29, 16
; NAKED-LE-NEXT:    .cfi_offset w30, -8
; NAKED-LE-NEXT:    .cfi_offset w29, -16
; NAKED-LE-NEXT:    bl main
;
; NAKED-BE-LABEL: normal:
; NAKED-BE:       // %bb.0:
; NAKED-BE-NEXT:    stp x29, x30, [sp, #-16]! // 16-byte Folded Spill
; NAKED-BE-NEXT:    mov x29, sp
; NAKED-BE-NEXT:    .cfi_def_cfa w29, 16
; NAKED-BE-NEXT:    .cfi_offset w30, -8
; NAKED-BE-NEXT:    .cfi_offset w29, -16
; NAKED-BE-NEXT:    bl main
  call void @main()
  unreachable
}
