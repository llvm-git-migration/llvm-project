## This test checks general llvm-install-name-tool behavior

# RUN: yaml2obj %s -o %t

## Passing a non-Mach-O binary
# RUN: not llvm-install-name-tool -add_rpath foo %t 2>&1 | FileCheck %s --check-prefix=NON_MACH_O

# NON_MACH_O: llvm-install-name-tool: error: input file: {{.*}} is not a Mach-O file

--- !ELF
FileHeader:
  Class:           ELFCLASS64
  Data:            ELFDATA2LSB
  Type:            ET_EXEC
  Machine:         EM_X86_64
Sections:
  - Name:            .bss
    Type:            SHT_NOBITS
    Flags:           [ SHF_ALLOC ]
    AddressAlign:    0x0000000000000010
    Size:            64
  - Name:            .text
    Type:            SHT_PROGBITS
    Flags:           [ SHF_ALLOC, SHF_EXECINSTR ]
    AddressAlign:    0x0000000000000010
    Content:         "00000000"
