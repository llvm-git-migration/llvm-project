
// RUN: llvm-profdata merge %S/Inputs/branch-c-general.proftext -o %t.profdata
// RUN: llvm-cov show %S/Inputs/branch-c-general.o32l -instr-profile %t.profdata -path-equivalence=/tmp,%S/Inputs | FileCheck %s
// RUN: llvm-cov report %S/Inputs/branch-c-general.o32l --show-branch-summary=false -instr-profile %t.profdata -show-functions -path-equivalence=/tmp,%S/Inputs %S/Inputs/branch-c-general.c | FileCheck %s -check-prefix=REPORT

// CHECK-NOT: | Branch

// REPORT: Name                        Regions    Miss   Cover     Lines    Miss   Cover
// REPORT-NOT: Name                        Regions    Miss   Cover     Lines    Miss   Cover  Branches    Miss   Cover
// REPORT: ---
// REPORT-NOT: simple_loops                      8       0 100.00%         8       0 100.00%         6       0 100.00%
// REPORT-NOT: conditionals                     24       0 100.00%        13       0 100.00%        16       2  87.50%
// REPORT-NOT: early_exits                      20       4  80.00%        19       2  89.47%        16       6  62.50%
// REPORT-NOT: jumps                            39      12  69.23%        38       3  92.11%        28      10  64.29%
// REPORT-NOT: switches                         27       4  85.19%        30       2  93.33%        32      10  68.75%
// REPORT-NOT: big_switch                       25       1  96.00%        26       0 100.00%        30       6  80.00%
// REPORT-NOT: boolean_operators                16       0 100.00%         9       0 100.00%        22       2  90.91%
// REPORT-NOT: boolop_loops                     19       0 100.00%         9       0 100.00%        16       2  87.50%
// REPORT-NOT: conditional_operator              6       2  66.67%         5       0 100.00%         4       2  50.00%
// REPORT-NOT: do_fallthrough                    9       0 100.00%         9       0 100.00%         6       0 100.00%
// REPORT-NOT: main                              1       0 100.00%        16       0 100.00%         0       0   0.00%
// REPORT-NOT: c-general.c:static_func           4       0 100.00%         4       0 100.00%         2       0 100.00%
// REPORT: TOTAL                           198      23  88.38%       186       7  96.24%
// REPORT-NOT: TOTAL                           198      23  88.38%       186       7  96.24%       178      40  77.53%

